this.JST=this.JST||{},this.JST["app/templates/layouts/player-layout.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+="",chromeless||(__p+="\n	<div class='ZEEGA-player-overlay'></div>\n"),__p+="\n<div class='ZEEGA-player-window'></div>";return __p},this.JST["app/templates/plugins/audio.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+="";return __p},this.JST["app/templates/plugins/image.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+='<img src="'+attr.uri+"\" width='100%' />";return __p},this.JST["app/templates/plugins/link.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+="<a href='#' style='position:absolute;width:100%;height:100%'>\n	",mode=="editor"&&!_.isNull(attr.to_frame)&&(__p+='\n		<i class="icon-share go-to-sequence"></i>\n	'),__p+="\n</a>";return __p},this.JST["app/templates/plugins/slideshow.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+="<a href='#' class='slideshow-arrow slideshow-left-arrow disabled'><img src='../assets/img/layers/slideshow-arrow.png'/></a>\n<a href='#' class='slideshow-arrow slideshow-right-arrow'><img src='../assets/img/layers/slideshow-arrow.png'/></a>\n<div class='slideshow-container' style='width:"+(attr.slides.length*100+"%")+"'>\n	",_.each(attr.slides,function(e,t){__p+="\n		<div class='slideshow-slide slideshow-slide-"+t+"' style='width:"+(100/attr.slides.length+"%")+";background:url("+e.attr.uri+") no-repeat center center;-webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;'></div>\n	"}),__p+="\n</div>";return __p},this.JST["app/templates/plugins/video.html"]=function(obj){var __p="",print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{})__p+="";return __p},function(){var e;(function(){if(typeof e=="undefined"){e={};var t,n,r;(function(e){function c(e,t){var n,r,i,s,o,u,f,l,c,h,p=t&&t.split("/"),d=a.map,v=d&&d["*"]||{};if(e&&e.charAt(0)==="."&&t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))return!0;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=l;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],f=l)}!s&&u&&(s=u,o=f),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function h(t,n){return function(){return s.apply(e,l.call(arguments,0).concat([t,n]))}}function p(e){return function(t){return c(t,e)}}function d(e){return function(t){o[e]=t}}function v(t){if(u.hasOwnProperty(t)){var n=u[t];delete u[t],f[t]=!0,i.apply(e,n)}if(!o.hasOwnProperty(t))throw new Error("No "+t);return o[t]}function m(e,t){var n,r,i=e.indexOf("!");return i!==-1?(n=c(e.slice(0,i),t),e=e.slice(i+1),r=v(n),r&&r.normalize?e=r.normalize(e,p(t)):e=c(e,t)):e=c(e,t),{f:n?n+"!"+e:e,n:e,p:r}}function g(e){return function(){return a&&a.config&&a.config[e]||{}}}var i,s,o={},u={},a={},f={},l=[].slice;i=function(t,n,r,i){var s,a,l,c,p,y=[],b;i=i||t;if(typeof r=="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(p=0;p<n.length;p+=1){c=m(n[p],i),a=c.f;if(a==="require")y[p]=h(t);else if(a==="exports")y[p]=o[t]={},b=!0;else if(a==="module")s=y[p]={id:t,uri:"",exports:o[t],config:g(t)};else if(o.hasOwnProperty(a)||u.hasOwnProperty(a))y[p]=v(a);else if(c.p)c.p.load(c.n,h(i,!0),d(a),{}),y[p]=o[a];else if(!f[a])throw new Error(t+" missing "+a)}l=r.apply(o[t],y);if(t)if(s&&s.exports!==e&&s.exports!==o[t])o[t]=s.exports;else if(l!==e||!b)o[t]=l}else t&&(o[t]=r)},t=n=s=function(t,n,r,o,u){return typeof t=="string"?v(m(t,n).f):(t.splice||(a=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},typeof r=="function"&&(r=o,o=u),o?i(e,t,n,r):setTimeout(function(){i(e,t,n,r)},15),s)},s.config=function(e){return a=e,s},r=function(e,t,n){t.splice||(n=t,t=[]),u[e]=[e,t,n]},r.amd={jQuery:!0}})(),e.requirejs=t,e.require=n,e.define=r}})(),e.define("../assets/js/libs/almond",function(){}),function(t,n){function ht(e){return new pt(e)}function pt(e){if(e&&e._wrapped)return e;this._wrapped=e}function xt(e,t,n){t||(t=0);var r=e.length,i=r-t>=(n||30),s=i?{}:e;if(i){var o,u=t-1;while(++u<r)o=e[u]+"",(O.call(s,o)?s[o]:s[o]=[]).push(e[u])}return function(e){if(i){var n=e+"";return O.call(s,n)&&Dn(s[n],e)>-1}return Dn(s,e,t)>-1}}function Tt(){var e,t,n,r=-1,i=arguments.length,s={bottom:"",exit:"",init:"",top:"",arrayBranch:{beforeLoop:""},objectBranch:{beforeLoop:""}};while(++r<i){e=arguments[r];for(t in e)n=(n=e[t])==null?"":n,/beforeLoop|inLoop/.test(t)?(typeof n=="string"&&(n={array:n,object:n}),s.arrayBranch[t]=n.array,s.objectBranch[t]=n.object):s[t]=n}var o=s.args,u=/^[^,]+/.exec(o)[0];s.firstArg=u,s.hasDontEnumBug=Q,s.isKeysFast=st,s.noArgsEnum=Y,s.shadowed=N,s.useHas=s.useHas!==!1,s.useStrict=s.useStrict!==!1,"noCharByIndex"in s||(s.noCharByIndex=tt),s.exit||(s.exit="if (!"+u+") return result");if(u!="collection"||!s.arrayBranch.inLoop)s.arrayBranch=null;var f=Function("arrayLikeClasses, ArrayProto, bind, compareAscending, concat, forIn, hasOwnProperty, identity, indexOf, isArguments, isArray, isFunction, isPlainObject, iteratorBind, objectClass, objectTypes, nativeKeys, propertyIsEnumerable, slice, stringClass, toString","var callee = function("+o+") {\n"+dt(s)+"\n};\n"+"return callee");return f(ut,a,Qn,Nt,A,zt,O,ar,Dn,Ht,Bt,jt,At,Ot,X,lt,F,_,D,$,P)}function Nt(e,t){var r=e.index,i=t.index;return e=e.criteria,t=t.criteria,e===n?1:t===n?-1:e<t?-1:e>t?1:r<i?-1:1}function Ct(e,t){return L[t]}function kt(e){return"\\"+ct[e]}function Lt(e){return ft[e]}function At(e,t){var n=!1;if(!e||typeof e!="object"||!t&&Ht(e))return n;var r=e.constructor;return(!nt||typeof e.toString=="function"||typeof (e+"")!="string")&&(!jt(r)||r instanceof r)?G?(zt(e,function(t,r){return n=!O.call(e,r),!1}),n===!1):(zt(e,function(e,t){n=t}),n===!1||O.call(e,n)):n}function Ot(e,t){return function(n,r,i){return e.call(t,n,r,i)}}function Mt(){}function _t(e,t){if(e&&v.test(t))return"<e%-"+t+"%>";var n=L.length;return L[n]="' +\n__e("+t+") +\n'",k+n}function Dt(e,t,n,r){if(r){var i=L.length;return L[i]="';\n"+r+";\n__p += '",k+i}return t?_t(null,t):Pt(null,n)}function Pt(e,t){if(e&&v.test(t))return"<e%="+t+"%>";var n=L.length;return L[n]="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'",k+n}function Ht(e){return P.call(e)==I}function jt(e){return typeof e=="function"}function It(e,t,n,r,i){if(e==null)return e;n&&(t=!1),i||(i={value:null}),i.value==null&&(i.value=!!(f.clone||c.clone||h.clone));var s=lt[typeof e];if((s||i.value)&&e.clone&&jt(e.clone))return i.value=null,e.clone(t);if(s){var o=P.call(e);if(!at[o]||Z&&Ht(e))return e;var u=o==q;s=u||(o==X?At(e,!0):s)}if(!s||!t)return s?u?D.call(e):Ut({},e):e;var a=e.constructor;switch(o){case R:return new a(e==1);case U:return new a(+e);case W:case $:return new a(e);case V:return a(e.source,b.exec(e))}r||(r=[]);var l=r.length;while(l--)if(r[l].source==e)return r[l].value;l=e.length;var p=u?a(l):{};r.push({value:p,source:e});if(u){var d=-1;while(++d<l)p[d]=It(e[d],t,null,r,i)}else Wt(e,function(e,n){p[n]=It(e,t,null,r,i)});return p}function Vt(e,t){return e?O.call(e,t):!1}function $t(e){return e===!0||e===!1||P.call(e)==R}function Jt(e){return P.call(e)==U}function Kt(e){return e?e.nodeType===1:!1}function Gt(e,t,n,r){if(e==null||t==null)return e===t;r||(r={value:null}),r.value==null&&(r.value=!!(f.isEqual||c.isEqual||h.isEqual));if(lt[typeof e]||lt[typeof t]||r.value){e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual&&jt(e.isEqual))return r.value=null,e.isEqual(t);if(t.isEqual&&jt(t.isEqual))return r.value=null,t.isEqual(e)}if(e===t)return e!==0||1/e==1/t;var i=P.call(e);if(i!=P.call(t))return!1;switch(i){case R:case U:return+e==+t;case W:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case V:case $:return e==t+""}var s=ut[i];if(Z&&!s&&(s=Ht(e))&&!Ht(t))return!1;if(!s&&(i!=X||nt&&(typeof e.toString!="function"&&typeof (e+"")=="string"||typeof t.toString!="function"&&typeof (t+"")=="string")))return!1;n||(n=[]);var o=n.length;while(o--)if(n[o]==e)return!0;var u=-1,a=!0,l=0;n.push(e);if(s){l=e.length,a=l==t.length;if(a)while(l--)if(!(a=Gt(e[l],t[l],n,r)))break;return a}var p=e.constructor,d=t.constructor;if(p!=d&&!(jt(p)&&p instanceof p&&jt(d)&&d instanceof d))return!1;for(var v in e)if(O.call(e,v)){l++;if(!O.call(t,v)||!Gt(e[v],t[v],n,r))return!1}for(v in t)if(O.call(t,v)&&!(l--))return!1;if(Q)while(++u<7){v=N[u];if(O.call(e,v)&&(!O.call(t,v)||!Gt(e[v],t[v],n,r)))return!1}return!0}function Yt(e){return j(e)&&P.call(e)==W}function Zt(e){return e?lt[typeof e]:!1}function en(e){return P.call(e)==W&&e!=+e}function tn(e){return e===null}function nn(e){return P.call(e)==W}function rn(e){return P.call(e)==V}function sn(e){return P.call(e)==$}function on(e){return e===n}function fn(e){var t={};if(!e)return t;var n,r=0,i=A.apply(a,arguments),s=i.length;while(++r<s)n=i[r],n in e&&(t[n]=e[n]);return t}function ln(e){if(!e)return 0;var t=P.call(e),n=e.length;return ut[t]||Z&&Ht(e)||t==X&&n>-1&&n===n>>>0&&jt(e.splice)?n:un(e).length}function xn(e,t,n,r){if(!e)return n;var i=e.length,s=arguments.length<3;r&&(t=Ot(t,r));if(i>-1&&i===i>>>0){var o=tt&&P.call(e)==$?e.split(""):e;i&&s&&(n=o[--i]);while(i--)n=t(n,o[i],i,e);return n}var u,a=un(e);i=a.length,i&&s&&(n=e[a[--i]]);while(i--)u=a[i],n=t(n,e[u],u,e);return n}function kn(e){if(!e)return[];if(e.toArray&&jt(e.toArray))return e.toArray();var t=e.length;return t>-1&&t===t>>>0?(et?P.call(e)==$:typeof e=="string")?e.split(""):D.call(e):cn(e)}function An(e){var t=[];if(!e)return t;var n=-1,r=e.length;while(++n<r)e[n]&&t.push(e[n]);return t}function On(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=A.apply(t,arguments),s=xt(i,r);while(++n<r)s(e[n])||t.push(e[n]);return t}function Mn(e,t,n){if(e)return t==null||n?e[0]:D.call(e,0,t)}function _n(e,t){var n=[];if(!e)return n;var r,i=-1,s=e.length;while(++i<s)r=e[i],Bt(r)?M.apply(n,t?r:_n(r)):n.push(r);return n}function Dn(e,t,n){if(!e)return-1;var r=-1,i=e.length;if(n){if(typeof n!="number")return r=zn(e,t),e[r]===t?r:-1;r=(n<0?Math.max(0,i+n):n)-1}while(++r<i)if(e[r]===t)return r;return-1}function Pn(e,t,n){return e?D.call(e,0,-(t==null||n?1:t)):[]}function Hn(e){var t=[];if(!e)return t;var n,r=-1,i=e.length,s=D.call(arguments,1),o=[];while(++r<i)n=e[r],Dn(t,n)<0&&dn(s,function(e,t){return(o[t]||(o[t]=xt(e)))(n)})&&t.push(n);return t}function Bn(e,t,n){if(e){var r=e.length;return t==null||n?e[r-1]:D.call(e,-t||r)}}function jn(e,t,n){if(!e)return-1;var r=e.length;n&&typeof n=="number"&&(r=(n<0?Math.max(0,r+n):Math.min(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Fn(e,t,n){var r=-Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]>i&&(i=e[o]);return i}n&&(t=Ot(t,n));while(++o<u)s=t(e[o],o,e),s>r&&(r=s,i=e[o]);return i}function In(e,t,n){var r=Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]<i&&(i=e[o]);return i}n&&(t=Ot(t,n));while(++o<u)s=t(e[o],o,e),s<r&&(r=s,i=e[o]);return i}function qn(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var r=-1,i=Math.max(0,Math.ceil((t-e)/n)),s=Array(i);while(++r<i)s[r]=e,e+=n;return s}function Rn(e,t,n){return e?D.call(e,t==null||n?1:t):[]}function Un(e){if(!e)return[];var t,n=-1,r=e.length,i=Array(r);while(++n<r)t=Math.floor(Math.random()*(n+1)),i[n]=i[t],i[t]=e[n];return i}function zn(e,t,n,r){if(!e)return 0;var i,s=0,o=e.length;if(n){r&&(n=Qn(n,r)),t=n(t);while(s<o)i=s+o>>>1,n(e[i])<t?s=i+1:o=i}else while(s<o)i=s+o>>>1,e[i]<t?s=i+1:o=i;return s}function Wn(){var e=-1,t=[],n=A.apply(t,arguments),r=n.length;while(++e<r)Dn(t,n[e])<0&&t.push(n[e]);return t}function Xn(e,t,n,r){var i=[];if(!e)return i;var s,o=-1,u=e.length,a=[];typeof t=="function"&&(r=n,n=t,t=!1),n?r&&(n=Ot(n,r)):n=ar;while(++o<u){s=n(e[o],o,e);if(t?!o||a[a.length-1]!==s:Dn(a,s)<0)a.push(s),i.push(e[o])}return i}function Vn(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=xt(arguments,1,20);while(++n<r)i(e[n])||t.push(e[n]);return t}function $n(e){if(!e)return[];var t=-1,n=Fn(En(arguments,"length")),r=Array(n);while(++t<n)r[t]=En(arguments,t);return r}function Jn(e,t){if(!e)return{};var n=-1,r=e.length,i={};t||(t=[]);while(++n<r)i[e[n]]=t[n];return i}function Kn(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function Qn(e,t){function s(){var o=arguments,u=t;r||(e=t[n]),i.length&&(o=o.length?i.concat(D.call(o)):i);if(this instanceof s){Mt.prototype=e.prototype,u=new Mt;var a=e.apply(u,o);return a&&lt[typeof a]?a:u}return e.apply(u,o)}var n,r=jt(e);if(!r)n=t,t=e;else if(it||H&&arguments.length>2)return H.call.apply(H,arguments);var i=D.call(arguments,2);return s}function Yn(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function Zn(e,t,n){function u(){o=null,n||e.apply(s,r)}var r,i,s,o;return function(){var a=n&&!o;return r=arguments,s=this,J(o),o=K(u,t),a&&(i=e.apply(s,r)),i}}function er(e,t){var r=D.call(arguments,2);return K(function(){return e.apply(n,r)},t)}function tr(e){var t=D.call(arguments,1);return K(function(){return e.apply(n,t)},1)}function nr(e,t){var n={};return function(){var r=t?t.apply(this,arguments):arguments[0];return O.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function rr(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function ir(e){var t=D.call(arguments,1),n=t.length;return function(){var r,i=arguments;return i.length&&(t.length=n,M.apply(t,i)),r=t.length==1?e.call(this,t[0]):e.apply(this,t),t.length=n,r}}function sr(e,t){function u(){o=new Date,s=null,e.apply(i,n)}var n,r,i,s,o=0;return function(){var a=new Date,f=t-(a-o);return n=arguments,i=this,f<=0?(o=a,r=e.apply(i,n)):s||(s=K(u,f)),r}}function or(e,t){return function(){var n=[e];return arguments.length&&M.apply(n,arguments),t.apply(this,n)}}function ur(e){return e==null?"":(e+"").replace(x,Lt)}function ar(e){return e}function fr(e){gn(Xt(e),function(t){var n=ht[t]=e[t];pt.prototype[t]=function(){var e=[this._wrapped];arguments.length&&M.apply(e,arguments);var t=n.apply(ht,e);return this._chain&&(t=new pt(t),t._chain=!0),t}})}function lr(){return t._=d,this}function cr(e,t){if(!e)return null;var n=e[t];return jt(n)?e[t]():n}function hr(e,t,n){n||(n={}),e+="";var u,a,f=n.escape,l=n.evaluate,c=n.interpolate,h=ht.templateSettings,p=n.variable||h.variable,d=p;f==null&&(f=h.escape),l==null&&(l=h.evaluate||!1),c==null&&(c=h.interpolate),f&&(e=e.replace(f,_t)),c&&(e=e.replace(c,Pt)),l!=r&&(r=l,o=RegExp("<e%-([\\s\\S]+?)%>|<e%=([\\s\\S]+?)%>"+(l?"|"+l.source:""),"g")),u=L.length,e=e.replace(o,Dt),u=u!=L.length,e="__p += '"+e.replace(T,kt).replace(S,Ct)+"';\n",L.length=0,d||(p=i||"obj",u?e="with ("+p+") {\n"+e+"\n}\n":(p!=i&&(i=p,s=RegExp("(\\(\\s*)"+p+"\\."+p+"\\b","g")),e=e.replace(w,"$&"+p+".").replace(s,"$1__d"))),e=(u?e.replace(m,""):e).replace(g,"$1").replace(y,"$1;"),e="function("+p+") {\n"+(d?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(d?"":", __d = "+p+"."+p+" || "+p)+";\n")+e+"return __p\n}",ot&&(e+="\n//@ sourceURL=/lodash/template/source["+C++ +"]");try{a=Function("_","return "+e)(ht)}catch(v){a=function(){throw v}}return t?a(t):(a.source=e,a)}function pr(e,t,n){var r=-1;if(n)while(++r<e)t.call(n,r);else while(++r<e)t(r)}function dr(e){var t=p++;return e?e+t:t}function vr(e){return e=new pt(e),e._chain=!0,e}function mr(e,t){return t(e),e}function gr(){return this._chain=!0,this}function yr(){return this._wrapped}var r,i,s,o,u=typeof exports=="object"&&exports&&(typeof global=="object"&&global&&global==global.global&&(t=global),exports),a=Array.prototype,f=Boolean.prototype,l=Object.prototype,c=Number.prototype,h=String.prototype,p=0,d=t._,v=/[-+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,m=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/\w*$/,w=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,E=RegExp("^"+(l.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),S=/__token__(\d+)/g,x=/[&<"']/g,T=/['\n\r\t\u2028\u2029\\]/g,N=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],C=0,k="__token__",L=[],A=a.concat,O=l.hasOwnProperty,M=a.push,_=l.propertyIsEnumerable,D=a.slice,P=l.toString,H=E.test(H=D.bind)&&H,B=E.test(B=Array.isArray)&&B,j=t.isFinite,F=E.test(F=Object.keys)&&F,I="[object Arguments]",q="[object Array]",R="[object Boolean]",U="[object Date]",z="[object Function]",W="[object Number]",X="[object Object]",V="[object RegExp]",$="[object String]",J=t.clearTimeout,K=t.setTimeout,Q,G,Y=!0;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments)Y=!n;Q=(e+"").length<4,G=e[0]!="x"})(1);var Z=!Ht(arguments),et=D.call("x")[0]!="x",tt="x"[0]+Object("x")[0]!="xx";try{var nt=({toString:0}+"",P.call(t.document||0)==X)}catch(rt){}var it=H&&/\n|Opera/.test(H+P.call(t.opera)),st=F&&/^.+$|true/.test(F+!!t.attachEvent);try{var ot=(Function("//@cc_on !")(),!0)}catch(rt){}var ut={};ut[R]=ut[U]=ut[z]=ut[W]=ut[X]=ut[V]=!1,ut[I]=ut[q]=ut[$]=!0;var at={};at[I]=at[z]=!1,at[q]=at[R]=at[U]=at[W]=at[X]=at[V]=at[$]=!0;var ft={"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1,unknown:!0},ct={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};ht.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};var dt=hr("<% if (useStrict) { %>'use strict';\n<% } %>var index, value, iteratee = <%= firstArg %>, result<% if (init) { %> = <%= init %><% } %>;\n<%= exit %>;\n<%= top %>;\n<% if (arrayBranch) { %>var length = iteratee.length; index = -1;  <% if (objectBranch) { %>\nif (length > -1 && length === length >>> 0) {<% } %>  <% if (noCharByIndex) { %>\n  if (toString.call(iteratee) == stringClass) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  <%= arrayBranch.beforeLoop %>;\n  while (++index < length) {\n    value = iteratee[index];\n    <%= arrayBranch.inLoop %>\n  }  <% if (objectBranch) { %>\n}<% } %><% } %><% if (objectBranch) { %>  <% if (arrayBranch) { %>\nelse {  <%  } else if (noArgsEnum) { %>\n  var length = iteratee.length; index = -1;\n  if (length && isArguments(iteratee)) {\n    while (++index < length) {\n      value = iteratee[index += ''];\n      <%= objectBranch.inLoop %>\n    }\n  } else {  <% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iteratee] ? nativeKeys(iteratee) : [],\n      length = ownProps.length;\n\n  <%= objectBranch.beforeLoop %>;\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (!hasDontEnumBug) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    value = iteratee[index];\n    <%= objectBranch.inLoop %>\n    <% if (!hasDontEnumBug) { %>}\n<% } %>  }  <% } else { %>\n  <%= objectBranch.beforeLoop %>;\n  for (index in iteratee) {    <% if (hasDontEnumBug) { %>\n    <%   if (useHas) { %>if (hasOwnProperty.call(iteratee, index)) {\n  <% } %>    value = iteratee[index];\n    <%= objectBranch.inLoop %>;\n    <%   if (useHas) { %>}<% } %>    <% } else { %>\n    if (!(skipProto && index == 'prototype')<% if (useHas) { %> &&\n        hasOwnProperty.call(iteratee, index)<% } %>) {\n      value = iteratee[index];\n      <%= objectBranch.inLoop %>\n    }    <% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    value = iteratee[index];\n    <%= objectBranch.inLoop %>\n  }    <% } %>  <% } %>  <% if (arrayBranch || noArgsEnum) { %>\n}<% } %><% } %>\n<%= bottom %>;\nreturn result"),vt={args:"collection, callback, thisArg",init:"collection",top:"if (!callback) {\n  callback = identity\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"if (callback(value, index, collection) === false) return result"},mt={init:"{}",top:"var prop;\nif (typeof callback != 'function') {\n  var valueProp = callback;\n  callback = function(value) { return value[valueProp] }\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"prop = callback(value, index, collection);\n(hasOwnProperty.call(result, prop) ? result[prop]++ : result[prop] = 1)"},gt={init:"true",inLoop:"if (!callback(value, index, collection)) return !result"},yt={useHas:!1,useStrict:!1,args:"object",init:"object",top:"for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n  if (iteratee = arguments[argsIndex]) {",inLoop:"result[index] = value",bottom:"  }\n}"},bt={init:"[]",inLoop:"callback(value, index, collection) && result.push(value)"},wt={top:"if (thisArg) callback = iteratorBind(callback, thisArg)"},Et={inLoop:{object:vt.inLoop}},St={init:"",exit:"if (!collection) return []",beforeLoop:{array:"result = Array(length)",object:"result = "+(st?"Array(length)":"[]")},inLoop:{array:"result[index] = callback(value, index, collection)",object:"result"+(st?"[ownIndex] = ":".push")+"(callback(value, index, collection))"}};Z&&(Ht=function(e){return!!e&&!!O.call(e,"callee")});var Bt=B||function(e){return P.call(e)==q};jt(/x/)&&(jt=function(e){return P.call(e)==z});var Ft=Tt({args:"object",init:"[]",inLoop:"result.push(index)"}),qt=Tt(yt,{inLoop:"if (result[index] == null) "+yt.inLoop}),Rt=Tt({useHas:!1,args:"object",init:"{}",top:"var props = concat.apply(ArrayProto, arguments)",inLoop:"if (indexOf(props, index) < 0) result[index] = value"}),Ut=Tt(yt),zt=Tt(vt,wt,Et,{useHas:!1}),Wt=Tt(vt,wt,Et),Xt=Tt({useHas:!1,args:"object",init:"[]",inLoop:"if (isFunction(value)) result.push(index)",bottom:"result.sort()"}),Qt=Tt({args:"value",init:"true",top:"var className = toString.call(value),\n    length = value.length;\nif (arrayLikeClasses[className]"+(Z?" || isArguments(value)":"")+" ||\n"+"  (className == objectClass && length > -1 && length === length >>> 0 &&\n"+"  isFunction(value.splice))"+") return !length",inLoop:{object:"return false"}}),un=F?function(e){var t=typeof e;return t=="function"&&_.call(e,"prototype")?Ft(e):e&&lt[t]?F(e):[]}:Ft,an=Tt(yt,{args:"object, source, indicator, stack",top:"var destValue, found, isArr, stackLength, recursive = indicator == isPlainObject;\nif (!recursive) stack = [];\nfor (var argsIndex = 1, argsLength = recursive ? 2 : arguments.length; argsIndex < argsLength; argsIndex++) {\n  if (iteratee = arguments[argsIndex]) {",inLoop:"if (value && ((isArr = isArray(value)) || isPlainObject(value))) {\n  found = false; stackLength = stack.length;\n  while (stackLength--) {\n    if (found = stack[stackLength].source == value) break\n  }\n  if (found) {\n    result[index] = stack[stackLength].value\n  } else {\n    destValue = (destValue = result[index]) && isArr\n      ? (isArray(destValue) ? destValue : [])\n      : (isPlainObject(destValue) ? destValue : {});\n    stack.push({ value: destValue, source: value });\n    result[index] = callee(destValue, value, isPlainObject, stack)\n  }\n} else if (value != null) {\n  result[index] = value\n}"}),cn=Tt({args:"object",init:"[]",inLoop:"result.push(value)"}),hn=Tt({args:"collection, target",init:"false",noCharByIndex:!1,beforeLoop:{array:"if (toString.call(iteratee) == stringClass) return collection.indexOf(target) > -1"},inLoop:"if (value === target) return true"}),pn=Tt(vt,mt),dn=Tt(vt,gt),vn=Tt(vt,bt),mn=Tt(vt,wt,{init:"",inLoop:"if (callback(value, index, collection)) return value"}),gn=Tt(vt,wt),yn=Tt(vt,mt,{inLoop:"prop = callback(value, index, collection);\n(hasOwnProperty.call(result, prop) ? result[prop] : result[prop] = []).push(value)"}),bn=Tt(St,{args:"collection, methodName",top:"var args = slice.call(arguments, 2),\n    isFunc = typeof methodName == 'function'",inLoop:{array:"result[index] = (isFunc ? methodName : value[methodName]).apply(value, args)",object:"result"+(st?"[ownIndex] = ":".push")+"((isFunc ? methodName : value[methodName]).apply(value, args))"}}),wn=Tt(vt,St),En=Tt(St,{args:"collection, property",inLoop:{array:"result[index] = value[property]",object:"result"+(st?"[ownIndex] = ":".push")+"(value[property])"}}),Sn=Tt({args:"collection, callback, accumulator, thisArg",init:"accumulator",top:"var noaccum = arguments.length < 3;\nif (thisArg) callback = iteratorBind(callback, thisArg)",beforeLoop:{array:"if (noaccum) result = collection[++index]"},inLoop:{array:"result = callback(result, value, index, collection)",object:"result = noaccum\n  ? (noaccum = false, value)\n  : callback(result, value, index, collection)"}}),Tn=Tt(vt,bt,{inLoop:"!"+bt.inLoop}),Nn=Tt(vt,gt,{init:"false",inLoop:gt.inLoop.replace("!","")}),Cn=Tt(vt,mt,St,{inLoop:{array:"result[index] = {\n  criteria: callback(value, index, collection),\n  index: index,\n  value: value\n}",object:"result"+(st?"[ownIndex] = ":".push")+"({\n"+"  criteria: callback(value, index, collection),\n"+"  index: index,\n"+"  value: value\n"+"})"},bottom:"result.sort(compareAscending);\nlength = result.length;\nwhile (length--) {\n  result[length] = result[length].value\n}"}),Ln=Tt(bt,{args:"collection, properties",top:"var pass, prop, propIndex, props = [];\nforIn(properties, function(value, prop) { props.push(prop) });\nvar propsLength = props.length",inLoop:"for (pass = true, propIndex = 0; propIndex < propsLength; propIndex++) {\n  prop = props[propIndex];\n  if (!(pass = value[prop] === properties[prop])) break\n}\nif (pass) result.push(value)"}),Gn=Tt({useHas:!1,useStrict:!1,args:"object",init:"object",top:"var funcs = arguments,\n    length = funcs.length;\nif (length > 1) {\n  for (var index = 1; index < length; index++) {\n    result[funcs[index]] = bind(result[funcs[index]], result)\n  }\n  return result\n}",inLoop:"if (isFunction(result[index])) {\n  result[index] = bind(result[index], result)\n}"});ht.VERSION="0.5.2",ht.after=Kn,ht.bind=Qn,ht.bindAll=Gn,ht.chain=vr,ht.clone=It,ht.compact=An,ht.compose=Yn,ht.contains=hn,ht.countBy=pn,ht.debounce=Zn,ht.defaults=qt,ht.defer=tr,ht.delay=er,ht.difference=On,ht.drop=Rt,ht.escape=ur,ht.every=dn,ht.extend=Ut,ht.filter=vn,ht.find=mn,ht.first=Mn,ht.flatten=_n,ht.forEach=gn,ht.forIn=zt,ht.forOwn=Wt,ht.functions=Xt,ht.groupBy=yn,ht.has=Vt,ht.identity=ar,ht.indexOf=Dn,ht.initial=Pn,ht.intersection=Hn,ht.invoke=bn,ht.isArguments=Ht,ht.isArray=Bt,ht.isBoolean=$t,ht.isDate=Jt,ht.isElement=Kt,ht.isEmpty=Qt,ht.isEqual=Gt,ht.isFinite=Yt,ht.isFunction=jt,ht.isNaN=en,ht.isNull=tn,ht.isNumber=nn,ht.isObject=Zt,ht.isRegExp=rn,ht.isString=sn,ht.isUndefined=on,ht.keys=un,ht.last=Bn,ht.lastIndexOf=jn,ht.map=wn,ht.max=Fn,ht.memoize=nr,ht.merge=an,ht.min=In,ht.mixin=fr,ht.noConflict=lr,ht.once=rr,ht.partial=ir,ht.pick=fn,ht.pluck=En,ht.range=qn,ht.reduce=Sn,ht.reduceRight=xn,ht.reject=Tn,ht.rest=Rn,ht.result=cr,ht.shuffle=Un,ht.size=ln,ht.some=Nn,ht.sortBy=Cn,ht.sortedIndex=zn,ht.tap=mr,ht.template=hr,ht.throttle=sr,ht.times=pr,ht.toArray=kn,ht.union=Wn,ht.uniq=Xn,ht.uniqueId=dr,ht.values=cn,ht.where=Ln,ht.without=Vn,ht.wrap=or,ht.zip=$n,ht.zipObject=Jn,ht.all=dn,ht.any=Nn,ht.collect=wn,ht.detect=mn,ht.each=gn,ht.foldl=Sn,ht.foldr=xn,ht.head=Mn,ht.include=hn,ht.inject=Sn,ht.methods=Xt,ht.select=vn,ht.tail=Rn,ht.take=Mn,ht.unique=Xn,ht._iteratorTemplate=dt,ht._shimKeys=Ft,pt.prototype=ht.prototype,fr(ht),pt.prototype.chain=gr,pt.prototype.value=yr,gn(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];pt.prototype[e]=function(){var e=this._wrapped;return t.apply(e,arguments),e.length===0&&delete e[0],this._chain&&(e=new pt(e),e._chain=!0),e}}),gn(["concat","join","slice"],function(e){var t=a[e];pt.prototype[e]=function(){var e=this._wrapped,n=t.apply(e,arguments);return this._chain&&(n=new pt(n),n._chain=!0),n}}),typeof e.define=="function"&&typeof e.define.amd=="object"&&e.define.amd?(t._=ht,e.define("lodash",[],function(){return ht})):u?typeof module=="object"&&module&&module.exports==u?(module.exports=ht)._=ht:u._=ht:t._=ht}(this),function(){var t=this,n=t.Backbone,r=Array.prototype.slice,i=Array.prototype.splice,s;typeof exports!="undefined"?s=exports:s=t.Backbone={},s.VERSION="0.9.2";var o=t._;!o&&typeof require!="undefined"&&(o=e.require("underscore"));var u=t.jQuery||t.Zepto||t.ender;s.setDomLibrary=function(e){u=e},s.noConflict=function(){return t.Backbone=n,this},s.emulateHTTP=!1,s.emulateJSON=!1;var a=/\s+/,f=s.Events={on:function(e,t,n){var r,i,s,o,u;if(!t)return this;e=e.split(a),r=this._callbacks||(this._callbacks={});while(i=e.shift())u=r[i],s=u?u.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:u?u.next:s};return this},off:function(e,t,n){var r,i,s,u,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(a):o.keys(i);while(r=e.shift()){s=i[r],delete i[r];if(!s||!t&&!n)continue;u=s.tail;while((s=s.next)!==u)f=s.callback,l=s.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,n,i,s,o,u,f;if(!(i=this._callbacks))return this;u=i.all,e=e.split(a),f=r.call(arguments,1);while(t=e.shift()){if(n=i[t]){s=n.tail;while((n=n.next)!==s)n.callback.apply(n.context||this,f)}if(n=u){s=n.tail,o=[t].concat(f);while((n=n.next)!==s)n.callback.apply(n.context||this,o)}}return this}};f.bind=f.on,f.unbind=f.off;var l=s.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=k(this,"defaults"))e=o.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(l.prototype,f,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=o.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s;o.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof l&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,f=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){s=r[i];if(!o.isEqual(a[i],s)||n.unset&&o.has(a,i))delete f[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=s,!o.isEqual(c[i],s)||o.has(a,i)!=o.has(c,i)?(this.changed[i]=s,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(e){e=e?o.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=s.wrapError(e.error,t,e),(this.sync||s.sync).call(this,"read",this,e)},save:function(e,t,n){var r,i;o.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?o.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;i=o.clone(this.attributes)}var u=o.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var s=a.parse(e,i);n.wait&&(delete n.wait,s=o.extend(r||{},s));if(!a.set(s,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=s.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||s.sync).call(this,l,this,n);return n.wait&&this.set(i,u),c},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=s.wrapError(e.error,t,e);var i=(this.sync||s.sync).call(this,"delete",this,e);return e.wait||r(),i},url:function(){var e=k(this,"urlRoot")||k(this.collection,"url")||L();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=o.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!o.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(o.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var c=s.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(c.prototype,f,{model:l,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,r,s,u,a,f,l={},c={},h=[];t||(t={}),e=o.isArray(e)?e.slice():[e];for(n=0,s=e.length;n<s;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,s=e.length;n<s;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=s,r=t.at!=null?t.at:this.models.length,i.apply(this.models,[r,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,s=this.models.length;n<s;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,s;t||(t={}),e=o.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){s=this.getByCid(e[n])||this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?o.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=s.wrapError(e.error,t,e),(this.sync||s.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?o.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return o(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof l)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var h=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(h,function(e){c.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var p=s.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/:\w+/g,v=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(p.prototype,f,{initialize:function(){},route:function(e,t,n){return s.history||(s.history=new g),o.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),s.history.route(e,o.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),s.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){s.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(m,"\\$&").replace(d,"([^/]+)").replace(v,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=s.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},y=/^[#\/]/,b=/msie [\w.]+/;g.started=!1,o.extend(g.prototype,f,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(y,"")},start:function(e){if(g.started)throw new Error("Backbone.history has already been started");g.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=b.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=u('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?u(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?u(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,s=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(y,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){u(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!g.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(y,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var w=s.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName"];o.extend(w.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&u(r).attr(t),n&&u(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof u?e:u(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=k(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];o.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(E),i=r[1],s=r[2];n=o.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.bind(i,n):this.$el.delegate(s,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,n=S.length;t<n;t++){var r=S[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=k(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var x=function(e,t){var n=C(this,e,t);return n.extend=this.extend,n};l.extend=c.extend=p.extend=w.extend=x;var T={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};s.sync=function(e,t,n){var r=T[e];n||(n={});var i={type:r,dataType:"json"};return n.url||(i.url=k(t,"url")||L()),!n.data&&t&&(e=="create"||e=="update")&&(i.contentType="application/json",i.data=JSON.stringify(t.toJSON())),s.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{}),s.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(s.emulateJSON&&(i.data._method=r),i.type="POST",i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),i.type!=="GET"&&!s.emulateJSON&&(i.processData=!1),u.ajax(o.extend(i,n))},s.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var N=function(){},C=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},o.extend(r,e),N.prototype=e.prototype,r.prototype=new N,t&&o.extend(r.prototype,t),n&&o.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},k=function(e,t){return!e||!e[t]?null:o.isFunction(e[t])?e[t]():e[t]},L=function(){throw new Error('A "url" property or function must be specified')}}.call(this),e.define("backbone",["lodash"],function(e){return function(){return e.Backbone}}(this)),function(e){var t,n=e.Backbone,r=e._,i=e.$,s=n.View.prototype._configure,o=n.View.prototype.render,u=n.View.extend({constructor:function(t){t=t||{},u.setupView(this,t),n.View.call(this,t)},swapLayout:function(e){return e.views=r.defaults({},this.views,e.views),e.setElement(this.el),e},insertView:function(e,t){return t?this.setView(e,t,!0):this.setView(e,!0)},insertViews:function(e){return r.each(e,function(t,n){e[n]=[].concat(t)}),this.setViews(e)},getView:function(e){return this.getViews(e).first().value()},getViews:function(e){var t=r.chain(this.views).map(function(e){return[].concat(e)},this).flatten().value();return r.chain(r.filter(t,e?e:r.identity))},setView:function(e,t,n){var i,s,o=this;r.isString(e)||(n=t,t=e,e=""),this.views=this.views||{},!n&&this.views[e]&&(r.isArray(this.views[e])?r.each(this.views[e],function(e){e.remove()}):this.views[e].remove());if(!t.__manager__)throw new Error("manage property not set.  http://tbranyen.github.com/backbone.layoutmanager/#usage/structuring-a-view");return s=t._options(),t.render=function(i){function l(){(!n||t.keep||!f.hasRendered)&&s.partial(o.el,e,t.el,n),t.delegateEvents(),f.handler&&(f.handler.resolveWith(t,[t.el]),delete f.handler),a.resolveWith(t,[t.el]),r.isFunction(i)&&i.call(t,t.el)}var a=s.deferred(),f=t.__manager__;return f.viewDeferred=a,t._removeViews(),u.prototype.render.call(t).then(l),a.promise()},t.__manager__.parent=o,t.__manager__.selector=e,n?(i=this.views[e]=this.views[e]||[],r.isArray(this.views[e])||(i=this.views[e]=[this.views[e]]),r.indexOf(i,t)>-1?t:(i.push(t),t.__manager__.append=!0,t)):this.views[e]=t},setViews:function(e){return r.each(e,function(e,t){if(r.isArray(e))return r.each(e,function(e){this.insertView(t,e)},this);this.setView(t,e)},this),this},render:function(e){var t,n=this,i=this._options(),s=i.deferred(),o=this.__manager__;return o.renderDeferred?(o.callback=e,o.renderDeferred):(o.renderDeferred=s,this._render(u._viewRender).fetch.then(function(){var e=r.map(n.views,function(e){function n(e,t){if(!e.length)return t();var r=e.shift();r.render(function(){n(e,t)})}var t;return r.isArray(e)?(t=i.deferred(),n(r.clone(e),function(){t.resolve()}),t.promise()):e.render()});i.when(e).then(function(){s.resolveWith(n,[n.el])})}),t=s.then(function(){r.isFunction(e)&&e.call(n,n.el),n.__manager__.handler&&(n.__manager__.handler.resolveWith(n,[n.el]),delete n.__manager__.handler),r.isFunction(n.__manager__.callback)&&(n.__manager__.callback.call(n,n.el),delete n.__manager__.callback),delete n.__manager__.renderDeferred}),r.defaults(t,n))},remove:function(){return u._removeView(this,!0),this._remove.apply(this,arguments)},_options:function(){return r.extend({},this,u.prototype.options,this.options)}},{_cache:{},_makeAsync:function(e,t){var n=e.deferred();return n.async=function(){return n._isAsync=!0,t},n},_viewRender:function(e){function o(n,r){u.cache(t,r),r&&s.html(e.el,s.render(r,n)),i.fetch.resolveWith(e,[e.el])}var t,n,i,s=e._options();return{render:function(a){var f=e.__manager__,l=e.template||s.template;return e.serialize&&(s.serialize=e.serialize),!a&&r.isFunction(s.serialize)?a=s.serialize.call(e):!a&&r.isObject(s.serialize)&&(a=s.serialize),i=u._makeAsync(s,r.bind(o,e,a)),i.fetch=s.deferred(),f.handler=i,r.isString(l)&&(t=f.prefix+l),(n=u.cache(t))?(o(a,n,t),i):(r.isString(l)?n=s.fetch.call(i,f.prefix+l):l!=null&&(n=s.fetch.call(i,l)),i._isAsync||o(a,n),i)}}},cleanViews:function(e){r.each([].concat(e),function(e){e.unbind(),e.views&&r.each(e.views,function(e){u.cleanViews(e)}),r.isFunction(e.cleanup)&&e.cleanup.call(e)})},cache:function(e,t){if(e in this._cache)return this._cache[e];if(e!=null&&t!=null)return this._cache[e]=t},configure:function(e){r.extend(u.prototype.options,e),e.manage&&(n.View.prototype.manage=!0)},setupView:function(e,i){var s,o,a=n.LayoutManager.prototype,f=r.pick(e,t);if(e.__manager__)return;r.defaults(e,{views:{},__manager__:{},_options:u.prototype._options,_removeViews:u._removeViews,_removeView:u._removeView}),e instanceof n.Layout?e.__manager__.prefix=e._options().paths.layout||"":e.__manager__.prefix=e._options().paths.template||"",i=e.options=r.defaults(i||{},e.options,a.options),o=r.pick(i,["events"].concat(r.values(i.events))),r.extend(e,o),delete f.render,r.extend(i,f),e._remove=n.View.prototype.remove,e._render=function(e){var t,n=this._options().beforeRender,s=this._options().afterRender;return this._removeViews(),r.isFunction(n)&&n.call(this,this),this.trigger("beforeRender",this),t=e(this).render(),t.then(function(){var e=this,t=e.__manager__,n=t.parent,o=function(){e.delegateEvents(),e.__manager__.hasRendered=!0,r.isFunction(s)&&s.call(e,e),e.trigger("afterRender",e)},u=function(e){var t=e.__manager__;return t.parent&&!t.parent.__manager__.hasRendered?t.parent:e};if(!n)return o.call(e);if(n.__manager__.hasRendered)return i.when([t.viewDeferred,n.__manager__.viewDeferred]).then(function(){o.call(e)});n=u(e),n.on("afterRender",function(){n.off(null,null,e),o.call(e)},e)}),t},e.render=u.prototype.render,e.remove!==a.remove&&(e._remove=e.remove,e.remove=a.remove),s=i.views||e.views,r.keys(s).length&&e.setViews(s),e.template&&(i.template=e.template,delete e.template)},_removeViews:function(e){e=e||this,e.getViews().each(function(e){u._removeView(e,!0)})},_removeView:function(e,t){var n=e.__manager__,i=r.isBoolean(e.keep)?e.keep:e.options.keep;t=t&&n.parent,u.cleanViews(e);if(!i&&(n.append===!0||t)&&n.hasRendered){e.$el.remove();if(r.isArray(n.parent.views[n.selector]))return n.parent.getView(function(e,t){e.__manager__===n&&n.parent.views[n.selector].splice(t,1)});delete n.parent.views[n.selector]}}});r.each(["get","set","insert"],function(e){var t=n.View.prototype,r=u.prototype;t[e+"View"]=r[e+"View"],t[e+"Views"]=r[e+"Views"]}),n.Layout=n.LayoutManager=u,n.LayoutView=n.View.extend({manage:!0}),n.View.prototype._configure=function(){var e=s.apply(this,arguments);return this.manage&&u.setupView(this),e},u.prototype.options={paths:{},deferred:function(){return i.Deferred()},fetch:function(e){return r.template(i(e).html())},partial:function(e,t,n,r){var s=t?i(e).find(t):i(e);return s.length?(this[r?"append":"html"](s,n),!0):!1},html:function(e,t){i(e).html(t)},append:function(e,t){i(e).append(t)},when:function(e){return i.when.apply(null,e)},render:function(e,t){return e(t)}},t=r.keys(u.prototype.options)}(this),e.define("plugins/backbone.layoutmanager",function(){}),e.define("zeega",["backbone","plugins/backbone.layoutmanager"],function(e){var t={root:"/"},n=window.JST=window.JST||{},r=e.noConflict();return _.extend(t,{module:function(e){return _.extend({Views:{}},e)},Backbone:r},r.Events)}),e.define("zeega_dir/plugins/layers/_layer/_layer",["zeega"],function(e){return _Layer=e.Backbone.Model.extend({layerType:null,controls:[],defaults:{citataion:!0,default_controls:!0,draggable:!0,has_controls:!0,linkable:!0,mode:"player",resizable:!1,showCitation:!0},defaultAttributes:{},initialize:function(){this.init()},init:function(){},player_onPreload:function(){},player_onPlay:function(){},player_onPause:function(){},player_onExit:function(){},player_onUnrender:function(){},player_onRenderError:function(){},editor_onLayerEnter:function(){},editor_onLayerExit:function(){},editor_onControlsOpen:function(){},editor_onControlsClosed:function(){}}),_Layer.Visual=e.Backbone.LayoutView.extend({fetch:function(t){var n;return t="app/templates/"+t+".html",console.log("fetch layer path",t),JST[t]?JST[t]:(n=this.async(),$.ajax({url:e.root+t}).then(function(e){n(JST[t]=_.template(e))}))},className:"visual-element",template:"",serialize:function(){return this.model.toJSON()},initialize:function(){this.init()},beforePlayerRender:function(){},beforeRender:function(){this.className=this._className+" "+this.className,this.beforePlayerRender(),console.log(this.model.get("target_div")),this.model.get("target_div")!==""&&!_.isNull(this.model.get("target_div"))?($("#"+this.model.get("target_div")+" .ZEEGA-player-window").append(this.el),console.log("draw into div","#"+this.model.get("target_div")+" .ZEEGA-player-window")):($(".ZEEGA-player-window").append(this.el),console.log("draw into window")),this.$el.addClass("visual-element-"+this.model.get("type").toLowerCase()),this.moveOffStage(),this.applySize()},afterRender:function(){this.verifyReady()},applySize:function(){this.$el.css({width:this.getAttr("width")+"%"})},init:function(){},render:function(){},verifyReady:function(){this.model.trigger("visual_ready",this.model.id)},player_onPreload:function(){this.render()},player_onPlay:function(){this.onPlay()},player_onPause:function(){this.onPause()},player_onExit:function(){this.pause(),this.moveOffStage(),this.onExit()},player_onUnrender:function(){},player_onRenderError:function(){},onPreload:function(){},onPlay:function(){},onPause:function(){},onExit:function(){},updateZIndex:function(e){this.$el.css("z-index",e)},editor_onLayerEnter:function(){},editor_onLayerExit:function(){},editor_onControlsOpen:function(){},editor_onControlsClosed:function(){},moveOffStage:function(){this.$el.css({top:"-1000%",left:"-1000%"})},moveOnStage:function(){this.$el.css({top:this.getAttr("top")+"%",left:this.getAttr("left")+"%"})},play:function(){this.isPlaying=!0,this.moveOnStage(),this.player_onPlay()},pause:function(){this.isPlaying=!1,this.player_onPause()},playPause:function(){this.isPlaying!==!1?(this.isPlaying=!1,this.player_onPause()):(this.isPlaying=!0,this.player_onPlay())},getAttr:function(e){return this.model.get("attr")[e]}}),_Layer}),function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(r){function i(){var t=e(h),n=e(p);u&&(p.length?u.reject(f,t,n):u.resolve(f)),e.isFunction(r)&&r.call(o,f,t,n)}function s(t,r){t.src===n||-1!==e.inArray(t,l)||(l.push(t),r?p.push(t):h.push(t),e.data(t,"imagesLoaded",{isBroken:r,src:t.src}),a&&u.notifyWith(e(t),[r,f,e(h),e(p)]),f.length===l.length&&(setTimeout(i),f.unbind(".imagesLoaded")))}var o=this,u=e.isFunction(e.Deferred)?e.Deferred():0,a=e.isFunction(u.notify),f=o.find("img").add(o.filter("img")),l=[],h=[],p=[];return f.length?f.bind("load.imagesLoaded error.imagesLoaded",function(e){s(e.target,"error"===e.type)}).each(function(r,i){var o=i.src,u=e.data(i,"imagesLoaded");if(u&&u.src===o)s(i,u.isBroken);else if(i.complete&&i.naturalWidth!==t)s(i,0===i.naturalWidth||0===i.naturalHeight);else if(i.readyState||i.complete)i.src=n,i.src=o}):i(),u?u.promise(o):o}}(jQuery),e.define("plugins/jquery.imagesloaded.min",function(){}),e.define("zeega_dir/plugins/layers/image/image",["zeega","zeega_dir/plugins/layers/_layer/_layer","plugins/jquery.imagesloaded.min"],function(e,t){var n=e.module();return n.Image=t.extend({layerType:"Image",defaultAttributes:{title:"Image Layer",url:"none",left:0,top:0,height:100,width:100,opacity:1,aspect:1.33},controls:[{type:"checkbox",property:"dissolve",label:"Fade In"},{type:"slider",property:"width",label:"Scale",suffix:"%",min:1,max:200},{type:"slider",property:"opacity",label:"Scale",step:.01,min:.05,max:1}]}),n.Image.Visual=t.Visual.extend({template:"plugins/image",serialize:function(){return this.model.toJSON()},verifyReady:function(){var e=this,t=this.$el.imagesLoaded();t.done(function(){e.model.trigger("visual_ready",e.model.id)}),t.fail(function(){e.model.trigger("visual_error",e.model.id)})}}),n}),e.define("zeega_dir/plugins/layers/link/link",["zeega","zeega_dir/plugins/layers/_layer/_layer"],function(e,t){var n=e.module();return n.Link=t.extend({layerType:"Link",defaultAttributes:{title:"Link Layer",from_sequence:null,to_frame:null,from_frame:null,left:25,top:25,height:50,width:50,opacity:1,opacity_hover:1,blink_on_start:!0,glow_on_hover:!0,citation:!1,linkable:!1,default_controls:!1}}),n.Link.Visual=t.Visual.extend({template:"plugins/link",serialize:function(){return this.model.toJSON()},beforePlayerRender:function(){var e=this,t={overflow:"visible","z-index":100,border:"none","border-radius":"0",height:this.getAttr("height")+"%",background:"red",opacity:.1};this.$el.css(t)},events:{"click a":"goClick",mouseover:"onMouseOver",mouseout:"onMouseOut"},onMouseOver:function(){},onMouseOut:function(){},goClick:function(){return this.model.trigger("cue_frame",this.getAttr("to_frame")),!1}}),n}),e.define("zeega_dir/plugins/layers/slideshow/slideshow",["zeega","zeega_dir/plugins/layers/_layer/_layer"],function(e,t){var n=e.module();return n.SlideShow=t.extend({layerType:"SlideShow",defaultAttributes:{arrows:!0,keyboard:!1,title:"Slideshow Layer",url:"none",left:0,top:0,height:100,width:100,opacity:1,aspect:1.33}}),n.SlideShow.Visual=t.Visual.extend({template:"plugins/slideshow",slide:0,init:function(){this.slideCount=this.model.get("attr").slides.length},serialize:function(){return this.model.toJSON()},onPlay:function(){this.$el.css({height:"100%"}),this.hideArrows(),this.initKeyboard(),this.emitSlideData(this.slide)},onExit:function(){killKeyboard()},events:{"click  .slideshow-left-arrow":"goLeft","click  .slideshow-right-arrow":"goRight"},goLeft:function(){return this.slide>0&&(this.slide--,this.scrollTo(this.slide),this.hideArrows()),!1},goRight:function(){return this.slide<this.slideCount-1&&(this.slide++,this.scrollTo(this.slide),this.hideArrows()),!1},scrollTo:function(e){this.$el.animate({left:e*-100+"%"}),this.emitSlideData(e)},emitSlideData:function(e){this.model.trigger("slideshow_update",this.getAttr("slides")[e])},hideArrows:function(){this.slideCount<=1?this.$(".slideshow-arrow").remove():this.slide===0?this.$(".slideshow-left-arrow").addClass("disabled"):this.slide==this.slideCount-1?this.$(".slideshow-right-arrow").addClass("disabled"):this.$(".slideshow-left-arrow, .slideshow-right-arrow").removeClass("disabled")},initKeyboard:function(){if(this.getAttr("keyboard")){var e=this;$(window).bind("keyup.slideshow",function(t){switch(t.which){case 37:e.goLeft();break;case 39:e.goRight()}})}},killKeyboard:function(){this.getAttr("keyboard")&&$(window).unbind("keyup.slideshow")}}),n}),window.Modernizr=function(e,t,n){function L(e){a.cssText=e}function A(e,t){return L(h.join(e+";")+(t||""))}function O(e,t){return typeof e===t}function M(e,t){return!!~(""+e).indexOf(t)}function _(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:O(s,"function")?s.bind(r||t):s}return!1}function D(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)b[n[r]]=n[r]in f;return b.list&&(b.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,o,u,a=e.length;r<a;r++)f.setAttribute("type",o=e[r]),i=f.type!=="text",i&&(f.value=l,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&f.style.WebkitAppearance!==n?(s.appendChild(f),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(f,null).WebkitAppearance!=="textfield"&&f.offsetHeight!==0,s.removeChild(f)):/^(search|tel)$/.test(o)||(/^(url|email)$/.test(o)?i=f.checkValidity&&f.checkValidity()===!1:i=f.value!=l)),y[e[r]]=!!i;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.2",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f=t.createElement("input"),l=":)",c={}.toString,h=" -webkit- -moz- -o- -ms- ".split(" "),p="Webkit Moz O ms",d=p.split(" "),v=p.toLowerCase().split(" "),m={svg:"http://www.w3.org/2000/svg"},g={},y={},b={},w=[],E=w.slice,S,x=function(e,n,r,i){var u,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:o+(r+1),c.appendChild(f);return u=["&#173;",'<style id="s',o,'">',e,"</style>"].join(""),c.id=o,(h?c:p).innerHTML+=u,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=s.style.overflow,s.style.overflow="hidden",s.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),s.style.overflow=l),!!a},T=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return x("@media "+t+" { #"+o+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},N=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=O(i[r],"function"),O(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),C={}.hasOwnProperty,k;!O(C,"undefined")&&!O(C.call,"undefined")?k=function(e,t){return C.call(e,t)}:k=function(e,t){return t in e&&O(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=E.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(E.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(E.call(arguments)))};return i}),g.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},g.canvastext=function(){return!!i.canvas&&!!O(t.createElement("canvas").getContext("2d").fillText,"function")},g.webgl=function(){return!!e.WebGLRenderingContext},g.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:x(["@media (",h.join("touch-enabled),("),o,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},g.geolocation=function(){return"geolocation"in navigator},g.postmessage=function(){return!!e.postMessage},g.websqldatabase=function(){return!!e.openDatabase},g.hashchange=function(){return N("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},g.history=function(){return!!e.history&&!!history.pushState},g.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},g.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},g.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},g.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},g.localstorage=function(){try{return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch(e){return!1}},g.sessionstorage=function(){try{return sessionStorage.setItem(o,o),sessionStorage.removeItem(o),!0}catch(e){return!1}},g.webworkers=function(){return!!e.Worker},g.applicationcache=function(){return!!e.applicationCache},g.svg=function(){return!!t.createElementNS&&!!t.createElementNS(m.svg,"svg").createSVGRect},g.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==m.svg},g.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(c.call(t.createElementNS(m.svg,"animate")))},g.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(c.call(t.createElementNS(m.svg,"clipPath")))};for(var P in g)k(g,P)&&(S=P.toLowerCase(),i[S]=g[P](),w.push((i[S]?"":"no-")+S));return i.input||D(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)k(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(s.className+=" "+(t?"":"no-")+e),i[e]=t}return i},L(""),u=f=null,function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];return t||(t={},u++,e[o]=u,a[u]=t),t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;return s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e),o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);return g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),f||v(e,n),e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0,f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g,m(t)}(this,t),i._version=r,i._prefixes=h,i._domPrefixes=v,i._cssomPrefixes=d,i.mq=T,i.hasEvent=N,i.testStyles=x,i}(this,this.document),e.define("libs/modernizr",function(){}),function(e,t){function y(e,t){return function(){if(g.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){g.plugin.errors.push({plugin:t,thrown:n,source:e.toString()}),this.trigger("error",g.plugin.errors)}}}function E(e){var t=typeof e=="string"?e:[e.language,e.region].join("-"),n=t.split("-");return{iso6391:t,language:n[0]||"",region:n[1]||""}}function x(){var e,t=[];if(Object.keys)t=Object.keys(g.p);else for(e in g.p)u.call(g.p,e)&&t.push(e);return t.join(",").toLowerCase().split(",")}if(!t.addEventListener){e.Popcorn={isSupported:!1};var n="forEach extend effects error guid sizeOf isArray nop position disable enable destroy addTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect parser xhr getJSONP getScript".split(/\s+/);while(n.length)e.Popcorn[n.shift()]=function(){};return}var r=Array.prototype,i=Object.prototype,s=r.forEach,o=r.slice,u=i.hasOwnProperty,a=i.toString,f=e.Popcorn,l=/^(#([\w\-\_\.]+))$/,c=[],h=!1,p=!1,d={events:{hash:{},apis:{}}},v=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,n){e.setTimeout(t,16)}}(),m=function(e){var t=e.media.currentTime,n=e.options.frameAnimation,r=e.data.disabled,i=e.data.trackEvents,s=i.animating,o=i.startIndex,u=g.registryByName,a=0,f,l,c;o=Math.min(o+1,i.byStart.length-2);while(o>0&&i.byStart[o]){f=i.byStart[o],l=f._natives,c=l&&l.type;if(!l||!!u[c]||!!e[c])f.start<=t&&f.end>t&&r.indexOf(c)===-1?f._running||(f._running=!0,l.start.call(e,null,f),n&&f&&f._running&&f.natives.frame&&l.frame.call(e,null,f,t)):f._running===!0&&(f._running=!1,l.end.call(e,null,f),n&&f._natives.frame&&(a=s.indexOf(f),a>=0&&s.splice(a,1)));o--}},g=function(e,t){return new g.p.init(e,t||null)};g.version="1.1.2",g.isSupported=!0,g.instances=[],g.p=g.prototype={init:function(n,r){var i;if(typeof n=="function"){if(t.readyState==="interactive"||t.readyState==="complete"){n(t,g);return}c.push(n);if(!h){h=!0;var s=function(){p=!0,t.removeEventListener("DOMContentLoaded",s,!1);for(var e=0,n=c.length;e<n;e++)c[e].call(t,g);c=null};t.addEventListener("DOMContentLoaded",s,!1)}return}i=l.exec(n),this.media=i&&i.length&&i[2]?t.getElementById(i[2]):n,this[this.media.nodeName&&this.media.nodeName.toLowerCase()||"video"]=this.media,g.instances.push(this),this.options=r||{},this.isDestroyed=!1,this.data={timeUpdate:g.nop,disabled:[],events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:{byStart:[{start:-1,end:-1}],byEnd:[{start:-1,end:-1}],animating:[],startIndex:0,endIndex:0,previousUpdateTime:-1}};var o=function(t){var n,r;t.media.readyState>=2?(n=t.media.duration,r=n!=n?Number.MAX_VALUE:n+1,g.addTrackEvent(t,{start:r,end:r}),t.options.frameAnimation?(t.data.timeUpdate=function(){g.timeUpdate(t,{}),t.trigger("timeupdate"),!t.isDestroyed&&v(t.data.timeUpdate)},!t.isDestroyed&&v(t.data.timeUpdate)):(t.data.timeUpdate=function(e){g.timeUpdate(t,e)},t.isDestroyed||t.media.addEventListener("timeupdate",t.data.timeUpdate,!1))):e.setTimeout(function(){o(t)},1)};return o(this),this}},g.p.init.prototype=g.p,g.forEach=function(e,t,n){if(!e||!t)return{};n=n||this;var r,i;if(s&&e.forEach===s)return e.forEach(t,n);if(a.call(e)==="[object NodeList]"){for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);return e}for(r in e)u.call(e,r)&&t.call(n,e[r],r,e);return e},g.extend=function(e){var t=e,n=o.call(arguments,1);return g.forEach(n,function(e){for(var n in e)t[n]=e[n]}),t},g.extend(g,{noConflict:function(t){return t&&(e.Popcorn=f),g},error:function(e){throw new Error(e)},guid:function(e){return g.guid.counter++,(e?e:"")+(+(new Date)+g.guid.counter)},sizeOf:function(e){var t=0;for(var n in e)t++;return t},isArray:Array.isArray||function(e){return a.call(e)==="[object Array]"},nop:function(){},position:function(n){var r=n.getBoundingClientRect(),i={},s=n.ownerDocument,o=t.documentElement,u=t.body,a,f,l,c,h,p;a=o.clientTop||u.clientTop||0,f=o.clientLeft||u.clientLeft||0,l=e.pageYOffset&&o.scrollTop||u.scrollTop,c=e.pageXOffset&&o.scrollLeft||u.scrollLeft,h=Math.ceil(r.top+l-a),p=Math.ceil(r.left+c-f);for(var d in r)i[d]=Math.round(r[d]);return g.extend({},i,{top:h,left:p})},disable:function(e,t){var n=e.data.disabled;return n.indexOf(t)===-1&&n.push(t),m(e),e},enable:function(e,t){var n=e.data.disabled,r=n.indexOf(t);return r>-1&&n.splice(r,1),m(e),e},destroy:function(e){var t=e.data.events,n,r,i;for(r in t){n=t[r];for(i in n)delete n[i];t[r]=null}e.isDestroyed||(e.data.timeUpdate&&e.media.removeEventListener("timeupdate",e.data.timeUpdate,!1),e.isDestroyed=!0)}}),g.guid.counter=1,g.extend(g.p,function(){var e="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",t={};return g.forEach(e.split(/\s+/g),function(e){t[e]=function(t){return typeof this.media[e]=="function"?(t!=null&&/play|pause/.test(e)&&(this.media.currentTime=g.util.toSeconds(t)),this.media[e](),this):t!=null?(this.media[e]=t,this):this.media[e]}}),t}()),g.forEach("enable disable".split(" "),function(e){g.p[e]=function(t){return g[e](this,t)}}),g.extend(g.p,{roundTime:function(){return-~this.media.currentTime},exec:function(e,t){return g.addTrackEvent(this,{start:e,end:e+1,_running:!1,_natives:{start:t||g.nop,end:g.nop,type:"exec"}}),this},mute:function(e){var t=e==null||e===!0?"muted":"unmuted";return t==="unmuted"&&(this.media.muted=!1,this.media.volume=this.data.state.volume),t==="muted"&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.trigger(t),this},unmute:function(e){return this.mute(e==null?!1:!e)},position:function(){return g.position(this.media)},toggle:function(e){return g[this.data.disabled.indexOf(e)>-1?"enable":"disable"](this,e)},defaults:function(e,t){return g.isArray(e)?(g.forEach(e,function(e){for(var t in e)this.defaults(t,e[t])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[e]||(this.options.defaults[e]={}),g.extend(this.options.defaults[e],t),this)}}),g.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},g.Events.Natives=g.Events.UIEvents+" "+g.Events.MouseEvents+" "+g.Events.Events,d.events.apiTypes=["UIEvents","MouseEvents","Events"],function(e,t){var n=d.events.apiTypes,r=e.Natives.split(/\s+/g),i=0,s=r.length,o;for(;i<s;i++)t.hash[r[i]]=!0;n.forEach(function(n,r){t.apis[n]={};var i=e[n].split(/\s+/g),s=i.length,o=0;for(;o<s;o++)t.apis[n][i[o]]=!0})}(g.Events,d.events),g.events={isNative:function(e){return!!d.events.hash[e]},getInterface:function(e){if(!g.events.isNative(e))return!1;var t=d.events,n=t.apiTypes,r=t.apis,i=0,s=n.length,o,u;for(;i<s;i++){u=n[i];if(r[u][e]){o=u;break}}return o},all:g.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var i,s;if(this.data.events[n]&&g.sizeOf(this.data.events[n])){i=g.events.getInterface(n);if(i)return s=t.createEvent(i),s.initEvent(n,!0,!0,e,1),this.media.dispatchEvent(s),this;g.forEach(this.data.events[n],function(e,t){e.call(this,r)},this)}return this},listen:function(e,t){var n=this,r=!0,i=g.events.hooks[e],s=e,o;return this.data.events[e]||(this.data.events[e]={},r=!1),i&&(i.add&&i.add.call(this,{},t),i.bind&&(e=i.bind),i.handler&&(o=t,t=function(t){i.handler.call(n,t,o)}),r=!0,this.data.events[e]||(this.data.events[e]={},r=!1)),this.data.events[e][t.name||t.toString()+g.guid()]=t,!r&&g.events.all.indexOf(e)>-1&&this.media.addEventListener(e,function(t){g.forEach(n.data.events[e],function(e,r){typeof e=="function"&&e.call(n,t)})},!1),this},unlisten:function(e,t){return this.data.events[e]&&this.data.events[e][t]?(delete this.data.events[e][t],this):(this.data.events[e]=null,this)}},hooks:{canplayall:{bind:"canplaythrough",add:function(e,t){var n=!1;this.media.readyState&&(t.call(this,e),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,n){this.data.hooks.canplayall.fired||(n.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},g.forEach(["trigger","listen","unlisten"],function(e){g.p[e]=g.events.fn[e]}),g.addTrackEvent=function(e,t){t&&t._natives&&t._natives.type&&e.options.defaults&&e.options.defaults[t._natives.type]&&(t=g.extend({},e.options.defaults[t._natives.type],t)),t._natives&&(t._id=t.id?t.id:g.guid(t._natives.type),e.data.history.push(t._id)),t.start=g.util.toSeconds(t.start,e.options.framerate),t.end=g.util.toSeconds(t.end,e.options.framerate);var n=e.data.trackEvents.byStart,r=e.data.trackEvents.byEnd,i,s,o;for(i=n.length-1;i>=0;i--)if(t.start>=n[i].start){n.splice(i+1,0,t);break}for(s=r.length-1;s>=0;s--)if(t.end>r[s].end){r.splice(s+1,0,t);break}t._natives&&(!!g.registryByName[t._natives.type]||!!e[t._natives.type])&&(o=e.media.currentTime,t.end>o&&t.start<=o&&e.data.disabled.indexOf(t._natives.type)===-1&&(t._running=!0,t._natives.start.call(e,null,t),e.options.frameAnimation&&t._natives.frame&&(e.data.trackEvents.animating.push(t),t._natives.frame.call(e,null,t,o)))),i<=e.data.trackEvents.startIndex&&t.start<=e.data.trackEvents.previousUpdateTime&&e.data.trackEvents.startIndex++,s<=e.data.trackEvents.endIndex&&t.end<e.data.trackEvents.previousUpdateTime&&e.data.trackEvents.endIndex++,this.timeUpdate(e,null,!0),t._id&&g.addTrackEvent.ref(e,t)},g.addTrackEvent.ref=function(e,t){return e.data.trackRefs[t._id]=t,e},g.removeTrackEvent=function(e,t){var n=e.data.history.length,r=0,i=[],s=[],o=[],u=[];g.forEach(e.data.trackEvents.byStart,function(n,o,u){n._id||(i.push(e.data.trackEvents.byStart[o]),s.push(e.data.trackEvents.byEnd[o])),n._id&&(n._id!==t&&(i.push(e.data.trackEvents.byStart[o]),s.push(e.data.trackEvents.byEnd[o])),n._id===t&&(r=o,n._natives._teardown&&n._natives._teardown.call(e,n)))}),e.data.trackEvents.animating.length&&g.forEach(e.data.trackEvents.animating,function(n,r,i){n._id||o.push(e.data.trackEvents.animating[r]),n._id&&n._id!==t&&o.push(e.data.trackEvents.animating[r])}),r<=e.data.trackEvents.startIndex&&e.data.trackEvents.startIndex--,r<=e.data.trackEvents.endIndex&&e.data.trackEvents.endIndex--,e.data.trackEvents.byStart=i,e.data.trackEvents.byEnd=s,e.data.trackEvents.animating=o;for(var a=0;a<n;a++)e.data.history[a]!==t&&u.push(e.data.history[a]);e.data.history=u,g.removeTrackEvent.ref(e,t)},g.removeTrackEvent.ref=function(e,t){return delete e.data.trackRefs[t],e},g.getTrackEvents=function(e){var t=[],n=e.data.trackEvents.byStart,r=n.length,i=0,s;for(;i<r;i++)s=n[i],s._id&&t.push(s);return t},g.getTrackEvents.ref=function(e){return e.data.trackRefs},g.getTrackEvent=function(e,t){return e.data.trackRefs[t]},g.getTrackEvent.ref=function(e,t){return e.data.trackRefs[t]},g.getLastTrackEventId=function(e){return e.data.history[e.data.history.length-1]},g.timeUpdate=function(e,t){var n=e.media.currentTime,r=e.data.trackEvents.previousUpdateTime,i=e.data.trackEvents,s=i.animating,o=i.endIndex,u=i.startIndex,a=0,f=i.byStart.length,l=i.byEnd.length,c=g.registryByName,h="trackstart",p="trackend",d,v,m,y,b;if(r<=n){while(i.byEnd[o]&&i.byEnd[o].end<=n){d=i.byEnd[o],y=d._natives,b=y&&y.type;if(!!y&&!c[b]&&!e[b]){g.removeTrackEvent(e,d._id);return}d._running===!0&&(d._running=!1,y.end.call(e,t,d),e.trigger(p,g.extend({},d,{plugin:b,type:p}))),o++}while(i.byStart[u]&&i.byStart[u].start<=n){v=i.byStart[u],y=v._natives,b=y&&y.type;if(!!y&&!c[b]&&!e[b]){g.removeTrackEvent(e,v._id);return}v.end>n&&v._running===!1&&e.data.disabled.indexOf(b)===-1&&(v._running=!0,y.start.call(e,t,v),e.trigger(h,g.extend({},v,{plugin:b,type:h})),e.options.frameAnimation&&v&&v._running&&v._natives.frame&&s.push(v)),u++}if(e.options.frameAnimation)while(a<s.length)m=s[a],m._running?(m._natives.frame.call(e,t,m,n),a++):s.splice(a,1)}else if(r>n){while(i.byStart[u]&&i.byStart[u].start>n){v=i.byStart[u],y=v._natives,b=y&&y.type;if(!!y&&!c[b]&&!e[b]){g.removeTrackEvent(e,v._id);return}v._running===!0&&(v._running=!1,y.end.call(e,t,v),e.trigger(p,g.extend({},d,{plugin:b,type:p}))),u--}while(i.byEnd[o]&&i.byEnd[o].end>n){d=i.byEnd[o],y=d._natives,b=y&&y.type;if(!!y&&!c[b]&&!e[b]){g.removeTrackEvent(e,d._id);return}d.start<=n&&d._running===!1&&e.data.disabled.indexOf(b)===-1&&(d._running=!0,y.start.call(e,t,d),e.trigger(h,g.extend({},v,{plugin:b,type:h})),e.options.frameAnimation&&d&&d._running&&d._natives.frame&&s.push(d)),o--}if(e.options.frameAnimation)while(a<s.length)m=s[a],m._running?(m._natives.frame.call(e,t,m,n),a++):s.splice(a,1)}i.endIndex=o,i.startIndex=u,i.previousUpdateTime=n,i.byStart.length<f&&i.startIndex--,i.byEnd.length<l&&i.endIndex--},g.extend(g.p,{getTrackEvents:function(){return g.getTrackEvents.call(null,this)},getTrackEvent:function(e){return g.getTrackEvent.call(null,this,e)},getLastTrackEventId:function(){return g.getLastTrackEventId.call(null,this)},removeTrackEvent:function(e){return g.removeTrackEvent.call(null,this,e),this},removePlugin:function(e){return g.removePlugin.call(null,this,e),this},timeUpdate:function(e){return g.timeUpdate.call(null,this,e),this},destroy:function(){return g.destroy.call(null,this),this}}),g.manifest={},g.registry=[],g.registryByName={},g.plugin=function(e,t,n){if(g.protect.natives.indexOf(e.toLowerCase())>=0){g.error("'"+e+"' is a protected function name");return}var r=["start","end"],i={},s,u=typeof t=="function",a=["_setup","_teardown","start","end","frame"],f=function(e,t){return e=e||g.nop,t=t||g.nop,function(){e.apply(this,arguments),t.apply(this,arguments)}};g.manifest[e]=n=n||t.manifest||{},a.forEach(function(n){t[n]=y(t[n]||g.nop,e)});var l=function(t,i){if(!i)return this;var s=i._natives={},u="",l,c,h,p;return g.extend(s,t),i._natives.type=e,i._running=!1,s.start=s.start||s["in"],s.end=s.end||s.out,s._teardown=f(function(){var e=o.call(arguments);e.unshift(null),e[1]._running&&s.end.apply(this,e)},s._teardown),l=this.options.defaults&&this.options.defaults[i._natives&&i._natives.type],i.compose=i.compose&&i.compose.split(" ")||[],i.effect=i.effect&&i.effect.split(" ")||[],i.compose=i.compose.concat(i.effect),i.compose.forEach(function(e){u=g.compositions[e]||{},a.forEach(function(e){s[e]=f(s[e],u[e])})}),i._natives.manifest=n,"start"in i||(i.start=i["in"]||0),"end"in i||(i.end=i.out||this.duration()||Number.MAX_VALUE),p=l?g.extend({},l,i):i,p.target||(h="options"in n&&n.options,p.target=h&&"target"in h&&h.target),i._natives._setup&&i._natives._setup.call(this,p),g.addTrackEvent(this,g.extend(p,i)),g.forEach(t,function(e,t){t!=="type"&&r.indexOf(t)===-1&&this.listen(t,e)},this),this};i[e]=function(e){return l.call(this,u?t.call(this,e):t,e)},g.extend(g.p,i);var c={fn:i[e],definition:t,base:t,parents:[],name:e};return g.registry.push(g.extend(i,c,{type:e})),g.registryByName[e]=c,i},g.plugin.errors=[],g.plugin.debug=!1,g.removePlugin=function(e,t){if(!t){t=e,e=g.p;if(g.protect.natives.indexOf(t.toLowerCase())>=0){g.error("'"+t+"' is a protected function name");return}var n=g.registry.length,r;for(r=0;r<n;r++)if(g.registry[r].name===t){g.registry.splice(r,1),delete g.registryByName[t],delete g.manifest[t],delete e[t];return}}var i=e.data.trackEvents.byStart,s=e.data.trackEvents.byEnd,o=e.data.trackEvents.animating,u,a;for(u=0,a=i.length;u<a;u++)i[u]&&i[u]._natives&&i[u]._natives.type===t&&s[u]&&s[u]._natives&&s[u]._natives.type===t&&(i[u]._natives._teardown&&i[u]._natives._teardown.call(e,i[u]),i.splice(u,1),s.splice(u,1),u--,a--,e.data.trackEvents.startIndex<=u&&(e.data.trackEvents.startIndex--,e.data.trackEvents.endIndex--));for(u=0,a=o.length;u<a;u++)o[u]&&o[u]._natives&&o[u]._natives.type===t&&(o.splice(u,1),u--,a--)},g.compositions={},g.compose=function(e,t,n){g.manifest[e]=n=n||t.manifest||{},g.compositions[e]=t},g.plugin.effect=g.effect=g.compose,g.parsers={},g.parser=function(e,t,n){if(g.protect.natives.indexOf(e.toLowerCase())>=0){g.error("'"+e+"' is a protected function name");return}typeof t=="function"&&!n&&(n=t,t="");if(typeof n!="function"||typeof t!="string")return;var r=g.events.all,i,s={};return i=function(e,r){if(!e)return this;var i=this;return g.xhr({url:e,dataType:t,success:function(e){var t=n(e),s,o,a,f=0;s=t.data||[],o=s.length,a=null;if(!o)return;for(;f<o;f++){a=s[f];for(var l in a)u.call(a,l)&&!!i[l]&&i[l](a[l])}r&&r()}}),this},s[e]=i,g.extend(g.p,s),s},g.player=function(e,n){n=n||{};var r=function(e,r,i){i=i||{};var s=new Date/1e3,o=s,u=0,a=1,f=!1,c={},h=t.getElementById(l.exec(e)&&l.exec(e)[2])||t.getElementById(e)||e,p={},d,v;for(var m in h)typeof h[m]=="object"?p[m]=h[m]:typeof h[m]=="function"?p[m]=function(e){return"length"in h[e]&&!h[e].call?h[e]:function(){return h[e].apply(h,arguments)}}(m):g.player.defineProperty(p,m,{get:function(e){return function(){return h[e]}}(m),set:g.nop,configurable:!0});var y=function(){s=new Date/1e3,p.paused||(p.currentTime=p.currentTime+(s-o),p.dispatchEvent("timeupdate"),d=setTimeout(y,10)),o=s};return p.play=function(){this.paused=!1,p.readyState>=4&&(o=new Date/1e3,p.dispatchEvent("play"),y())},p.pause=function(){this.paused=!0,p.dispatchEvent("pause")},g.player.defineProperty(p,"currentTime",{get:function(){return u},set:function(e){return u=+e,p.dispatchEvent("timeupdate"),u},configurable:!0}),g.player.defineProperty(p,"volume",{get:function(){return a},set:function(e){return a=+e,p.dispatchEvent("volumechange"),a},configurable:!0}),g.player.defineProperty(p,"muted",{get:function(){return f},set:function(e){return f=+e,p.dispatchEvent("volumechange"),f},configurable:!0}),p.addEventListener=function(e,t){return c[e]||(c[e]=[]),c[e].push(t),t},p.dispatchEvent=function(e){var n,r=this,i,s=e.type;s||(s=e,i=g.events.getInterface(s),i&&(n=t.createEvent(i),n.initEvent(s,!0,!0,window,1))),g.forEach(c[s],function(e){e.call(r,n,r)})},p.src=r||"",p.readyState=0,p.duration=0,p.paused=!0,p.ended=0,n._setup?n._setup.call(p,i):(p.readyState=4,p.dispatchEvent("load"),p.dispatchEvent("loadeddata")),p.addEventListener("load",function(){p.currentTime=u,p.volume=a,p.muted=f}),p.addEventListener("loadeddata",function(){!p.paused&&p.play()}),v=new g.p.init(p,i),v};g[e]=g[e]||r},g.player.defineProperty=Object.defineProperty||function(e,t,n){e.__defineGetter__(t,n.get||g.nop),e.__defineSetter__(t,n.set||g.nop)};var b=/\?/,w={url:"",data:"",dataType:"",success:g.nop,type:"GET",async:!0,xhr:function(){return new e.XMLHttpRequest}};g.xhr=function(e){e.dataType=e.dataType&&e.dataType.toLowerCase()||null;if(!(!e.dataType||e.dataType!=="jsonp"&&e.dataType!=="script")){g.xhr.getJSONP(e.url,e.success,e.dataType==="script");return}var t=g.extend({},w,e);t.ajax=t.xhr();if(t.ajax)return t.type==="GET"&&t.data&&(t.url+=(b.test(t.url)?"&":"?")+t.data,t.data=null),t.ajax.open(t.type,t.url,t.async),t.ajax.send(t.data||null),g.xhr.httpData(t)},g.xhr.httpData=function(e){var t,n=null,r,i=null;return e.ajax.onreadystatechange=function(){if(e.ajax.readyState===4){try{n=JSON.parse(e.ajax.responseText)}catch(s){}t={xml:e.ajax.responseXML,text:e.ajax.responseText,json:n};if(!t.xml||!t.xml.documentElement){t.xml=null;try{r=new DOMParser,i=r.parseFromString(e.ajax.responseText,"text/xml"),i.getElementsByTagName("parsererror").length||(t.xml=i)}catch(s){}}e.dataType&&(t=t[e.dataType]),e.success.call(e.ajax,t)}},t},g.xhr.getJSONP=function(e,n,r){var i=t.head||t.getElementsByTagName("head")[0]||t.documentElement,s=t.createElement("script"),o=e.split("?")[1],u=!1,a=[],f,l,c;o&&!r&&(a=o.split("&")),a.length&&(l=a[a.length-1].split("=")),f=a.length?l[1]?l[1]:l[0]:"jsonp",!o&&!r&&(e+="?callback="+f),f&&!r&&(!window[f]||(f=g.guid(f)),window[f]=function(e){n&&n(e),u=!0},e=e.replace(l.join("="),l[0]+"="+f)),s.onload=function(){r&&n&&n(),u&&delete window[f],i.removeChild(s)},s.src=e,i.insertBefore(s,i.firstChild);return},g.getJSONP=g.xhr.getJSONP,g.getScript=g.xhr.getScript=function(e,t){return g.xhr.getJSONP(e,t,!0)},g.util={toSeconds:function(e,t){var n=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,r="Invalid time format",i,s,o,u,a,f;return typeof e=="number"?e:(typeof e=="string"&&!n.test(e)&&g.error(r),i=e.split(":"),s=i.length-1,o=i[s],o.indexOf(";")>-1&&(a=o.split(";"),f=0,t&&typeof t=="number"&&(f=parseFloat(a[1],10)/t),i[s]=parseInt(a[0],10)+f),u=i[0],{1:parseFloat(u,10),2:parseInt(u,10)*60+parseFloat(i[1],10),3:parseInt(u,10)*3600+parseInt(i[1],10)*60+parseFloat(i[2],10)}[i.length||1])}};var S=E(e.navigator.userLanguage||e.navigator.language);g.locale={get:function(){return S},set:function(e){return S=E(e),g.locale.broadcast(),S},broadcast:function(e){var t=g.instances,n=t.length,r=0,i;e=e||"locale:changed";for(;r<n;r++)i=t[r],e in i.data.events&&i.trigger(e)}},g.p.cue=g.p.exec,g.protect={natives:x()},e.Popcorn=g}(window,window.document),function(e,t){var n=e.document,r=e.location,i=/:\/\//,s=r.href.replace(r.href.split("/").slice(-1)[0],""),o=function(e,t,n){e=e||0,t=(t||e||0)+1,n=n||1;var r=Math.ceil((t-e)/n)||0,i=0,s=[];s.length=r;while(i<r)s[i++]=e,e+=n;return s};t.sequence=function(e,n){return new t.sequence.init(e,n)},t.sequence.init=function(e,r){this.parent=n.getElementById(e),this.seqId=t.guid("__sequenced"),this.queue=[],this.playlist=[],this.inOuts={ofVideos:[],ofClips:[]},this.dims={width:0,height:0},this.active=0,this.cycling=!1,this.playing=!1,this.times={last:0},this.events={};var o=this,u=0;return t.forEach(r,function(r,u){var a=n.createElement("video");a.preload="auto",a.controls=!0,a.style.display=u&&"none"||"",a.id=o.seqId+"-"+u,o.queue.push(a);var f=r["in"],l=r.out;o.inOuts.ofVideos.push({"in":f!==undefined&&f||1,out:l!==undefined&&l||0}),o.inOuts.ofVideos[u].out=o.inOuts.ofVideos[u].out||o.inOuts.ofVideos[u]["in"]+2,a.src=i.test(r.src)?r.src:s+r.src,a.setAttribute("data-sequence-owner",e),a.setAttribute("data-sequence-guid",o.seqId),a.setAttribute("data-sequence-id",u),a.setAttribute("data-sequence-clip",[o.inOuts.ofVideos[u]["in"],o.inOuts.ofVideos[u].out].join(":")),o.parent.appendChild(a),o.playlist.push(t("#"+a.id))}),o.inOuts.ofVideos.forEach(function(e){var t=e.out-e["in"],n={"in":u,out:u+t};o.inOuts.ofClips.push(n),u=n.out+1}),t.forEach(this.queue,function(e,n){function r(t){return n||(o.dims.width=e.videoWidth,o.dims.height=e.videoHeight),e.currentTime=o.inOuts.ofVideos[n]["in"]-.5,e.removeEventListener("canplaythrough",r,!1),!0}e.addEventListener("canplaythrough",r,!1),e.addEventListener("play",function(e){o.playing=!0},!1),e.addEventListener("pause",function(e){o.playing=!1},!1),e.addEventListener("timeupdate",function(n){var r=n.srcElement||n.target,i=+(r.dataset&&r.dataset.sequenceId||r.getAttribute("data-sequence-id")),s=Math.floor(e.currentTime);o.times.last!==s&&i===o.active&&(o.times.last=s,s===o.inOuts.ofVideos[i].out&&t.sequence.cycle.call(o,i))},!1)}),this},t.sequence.init.prototype=t.sequence.prototype,t.sequence.cycle=function(e){this.queue||t.error("Popcorn.sequence.cycle is not a public method");var n=this.queue,r=this.inOuts.ofVideos,i=n[e],s=0,o,u,a,f;return n[e+1]&&(s=e+1),n[e+1]?(o=n[s],u=r[s],t.extend(o,{width:this.dims.width,height:this.dims.height}),a=this.playlist[s],f=this.playlist[e],i.pause(),this.active=s,this.times.last=u["in"]-1,a.currentTime(u["in"]),a[s?"play":"pause"](),this.trigger("cycle",{position:{previous:e,current:s}}),s&&(i.style.display="none",o.style.display=""),this.cycling=!1):(s=0,this.playlist[e].pause()),this};var u=["timeupdate","play","pause"];t.extend(t.sequence.prototype,{eq:function(e){return this.playlist[e]},remove:function(){this.parent.innerHTML=null},clip:function(e){return this.inOuts.ofVideos[e]},duration:function(){var e=0,t=this.inOuts.ofClips,n=0;for(;n<t.length;n++)e+=t[n].out-t[n]["in"]+1;return e-1},play:function(){return this.playlist[this.active].play(),this},exec:function(e,n){var r=this.active;return this.inOuts.ofClips.forEach(function(t,n){e>=t["in"]&&e<=t.out&&(r=n)}),e+=this.inOuts.ofVideos[r]["in"]-this.inOuts.ofClips[r]["in"],t.addTrackEvent(this.playlist[r],{start:e-1,end:e,_running:!1,_natives:{start:n||t.nop,end:t.nop,type:"exec"}}),this},listen:function(e,n){var r=this,i=this.playlist,s=i.length,o=0,a;return n||(n=t.nop),t.Events.Natives.indexOf(e)>-1?t.forEach(i,function(t){t.listen(e,function(i){i.active=r,u.indexOf(e)>-1?n.call(t,i):++o===s&&n.call(t,i)})}):(this.events[e]||(this.events[e]={}),a=n.name||t.guid("__"+e),this.events[e][a]=n),this},unlisten:function(e,t){},trigger:function(e,n){var r=this;if(t.Events.Natives.indexOf(e)>-1)return;return this.events[e]&&t.forEach(this.events[e],function(t,i){t.call(r,{type:e},n)}),this}}),t.forEach(t.manifest,function(e,n){t.sequence.prototype[n]=function(e){var r={},i=[],s,u,a,f,l,c,h,p,d;for(s=0;s<this.inOuts.ofClips.length;s++)u=this.inOuts.ofClips[s],a=o(u["in"],u.out),f=a.indexOf(e.start),l=a.indexOf(e.end),f>-1&&(r[s]=t.extend({},u,{start:a[f],clipIdx:f})),l>-1&&(r[s]=t.extend({},u,{end:a[l],clipIdx:l}));c=Object.keys(r).map(function(e){return+e}),i=o(c[0],c[1]);for(s=0;s<i.length;s++){var v={},m=i[s],g=r[m];g?(h=this.inOuts.ofVideos[m],p=g.clipIdx,d=o(h["in"],h.out),g.start&&(v.start=d[p],v.end=d[d.length-1]),g.end&&(v.start=d[0],v.end=d[p])):(v.start=this.inOuts.ofVideos[m]["in"],v.end=this.inOuts.ofVideos[m].out),this.playlist[m][n](t.extend({},e,v))}return this}})}(this,Popcorn),function(e){document.addEventListener("DOMContentLoaded",function(){var t="data-timeline-sources",n=document.querySelectorAll("["+t+"]");e.forEach(n,function(r,i){var s=n[i],o=!1,u,a,f;s.id||(s.id=e.guid("__popcorn")),s.nodeType&&s.nodeType===1&&(f=e("#"+s.id),u=(s.getAttribute(t)||"").split(","),u[0]&&e.forEach(u,function(e){a=e.split("!"),a.length===1&&(a=e.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),a[0]="parse"+a[1].toUpperCase(),a[1]=e),u[0]&&f[a[0]]&&f[a[0]](a[1])}),!f.autoplay||f.play())})},!1)}(Popcorn),function(e){e.plugin("attribution",function(){var t="data:image/png;base64,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",n={"cc-by":t+"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","cc-by-sa":t+"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","cc-by-nd":t+"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","cc-by-nc":t+"k0SURBVHja7FpdbNvWFf5IysFS1BrztA1yMBt7sQqskZMmy4Ytlta9LJ4TCnaCFkkWuQ812mCTlB+3S+3Iyk8TK/Zkb0iBYVstrCjahwZm/oDNGSLaKzBbTiIZaSM9rJCK2FiHDbArpwVmkbx7EHlF2pIty3axpjnGFX/uvR/J75577jnnmiGEWBmG+RSPZc2FEMIwAAgA3Bi+DpZlwbIsOI4Dy3LgWBYspx1ZFgzDgmUYMAwDMIyOAgICohKoRIWq5ouiKPmjqkBRVKiqQutUotL2hBD9Zej5oyD79u4HADAAiE4ux3H5wnKFc47L17GcRjIDhmGN/GrkaMSqeTIVRSvGc8VMsqqqlFgj0Y8SyRYAZnI5CyymY75cu3Id0WgUsVgMc9k5E1C1tRo7duyA68cuNO/5GRSVA8vK+QFRWDBgtLE0TB+V5GcCtDnELE3u3Yk4xMsiksmk6b7dbofQImDr9oZVkbFe+AwA8pdbf4bFYqGkWiyWfOEsGJFGEboQwvT0dFmANpsNHb/qQGPjLsiKAkWRIctaUWTIskI1vJgmL9TiT/75L1wauIRUMgUAcDqdcDgcAIBEIgFJkgAA9fZ6HPEewTe/9Y0VEbCe+Pv27s8T/NeRm7BwlgKxlipUWSwIdHVDHBJpB57nIQgCamtr0djYCAAYGRlBJpOBKIqYnZ2lbQW3gOMdx7DxiY2QZRk5WYYs5yDLstlk6ASrmi03EP0w+xDeIz5ks1kIgoBwOIza2lrTR2QyGfj9foiiCKvVinOhc2WTsN74lOBbf7uFKp3YKguqLFUmcnmeh8/ng9frBc/zJQEjkQj8fj8lut5ejz+8+Xt8beNGyHIOuVyOanJRkhfY465XTyGVTMHj8WBwcLAw7TTTYtT0SCSCtrY21NvrcebC6bIIKIX/m/5+jI+N4+1331kV/r69+8ECAKfZYAvHwcKZNdfhcCAejyMQCCxJLgB4PB6k02k6xVLJFHpDfSZbzlKPhCkU7c9I4N2JOFLJFARBQMeJE8t+jMfjgSAISCVTuDsRL8vmppIpbG1owA92ft9E7oVQCNdu3MArx09gamqqInxdWABgdbeM4zAijZrIjUaji6bNUsLzPKLRKCVZHBIxMjIKjrMUJ5nV3T6YSBYv598hHA7D/tRTC/3LogtiOBw29V1K9DafP/wMPefPw/nDH+GlF9vh9fvR3t6OkydPItTXi/GxsYrwTQTnNTivxaELIUrU4ODgslq7FMl639D5kOZLa+Qymk/Nah4GgwLJ2vRPJpNwOp2LBretrY1qfltbm6mutrYWTqdzkSdQTHT85uZm7Nu/H1NTU7g5PIzvfLsWn889xMFDB3H/ww/R0tpaEb5Zg7WPv3blOvUWfD4f1cJKhOd5OuLT09O4dvU6DVjyJJc2EboUe34kEil6vlSfUuJwOBDq68X5UA/efvcdtLS24qOPMwj19WLz5s2IvDmI5P37FeNTgnVtikajlByv10sbSZIEt9sNl8sFl8uFYDBYsq6/v99kF3Utjt6KGrS3YBoYpriJ+KLlezt3oqf3Ih48eICOY8fR8N2ncfm999C8uwkHnnseN4eHK8LNBxoMA5ZhEIvF8i6WIFBiJEmCy+UydZIkCZIkwev1wu12L6qbnJykq7IgCIhEIojFYvkI0EAsUCC34JUXsBKJRNHFTNdcj8ezqL5Yn1KysG02m8XN4WH09F6E534bmnc3AQDGx8YwPjaGmpoaMFWWSjQ4/6F6hLZlyxbawO/3U/uTTqfponf48GGqyQ6HA+l0GkNDQyYfGQA9n8vOFcwBPeq8LjYRdrsdkiQhk8mY7hvdKeO57rNKkgS73b7shxfDf+nFdpw7fQZbn96CA889j48+zqCltRU9vRdx4ODBFeGbCDYuLgvtjD7KHo+HGvl0Og2Px0Pr9OBDEARaZ1wYCu4X/Vn2xYQWwTTA5YjeVu+7Uvye3otoe+EFfPKff+Mf6TQGwmG8dqoLLa2tCJ49g4btz5SNbyb4/1C2bm9Avb0eoigu8hZKkSuKIurt9WXlDYrh19TU4LVTXTjmP4rmpib80ueD1WqtCN9MMDFHRUbbpGtzJBLB7OwsEokE6urqEAwGC76uFiYb64zTtuC/0p+yXu6Vkx2wWq2IRCJwu90Uy+gHZzIZuN1u9Pf3w2q14oj3SNkfXwr/2InjNIpbDT5d5PQXrrZWYy47h8nJSdogEAjQh2/atMlEnF6XSCQW1emiY1Vbq0GIIRwGgT6m2tWil3vS+iQGLvWj5/UQRFGEKIpwOBxwOBzgeR6SJFFlqCQZs974dN0evzOODRs2IHgqCHFIBM/zmJmZMXkGAwMDNMfgdDoRCASo9g4MDNC2xjoAqKurQyaTwbM/eRZ94V78d34eudw8cnIOuZwMRc9LqApURaVJ+IWR2pcxXUmTPWO3/46qqg14f/R9eH/hpWGhz+db1UvrCRIAOPv6Wexu+inmc/OYz+Ug53LIyQsILpLw+bIn3FkAdEvH6WqEzWYDAASDwUUu0kpkdnaWrtA2m01LxOupSRWqZot1c/GoCgsAKlGhKPl9tDPnTlOC3G63Kce7EnJdLhft2/Fqh5ZgVwokG1KUdJElj9aWEV3cAZDOQCeZuBsjiXtxcujnh/SlnjgcDhKPx0m5kk6nicPhoP0Ft0AS9+Jk4m6MnD53mt7/CpXChe+ol9yOT5DEBwkiuAV6n+d50t3dTWZmZkoSOzMzQ7q7uwnP87Tf9h3byeQHCXI7MUE6A51fRXIJs9Ap7Qp0Yq9bgMViQV+oD2/96a2Kt4yCZ7ohyzLGx2N4uf3lyqeYwWwYdzOM0efC65Xil8LSn10pNoqx3hXozGvyvTh5M/JHYrPZyh4xm81GBn47QBL34uR2YoK88bs3Vq0FhJAlz433KsVfDrfSZzClwirfUS8OHDxAdyGk6AiuXrm65Lb9HmEPnM5Gutd25cpVnA2eXf0iUUSD10JzF2KUOq5GmKXi1q3bGtAVOIWazTbDboQx3QiT36r/48n01BR+3RvG6Mjo2qzCC6bsWpmG5UzCUs9dE4J12dW4C03NTdj2zDZ83Wo153A11+rTbBZ3bt/BjWs31ozYL1qD18MGl0XwY1mFiSCEPMEwzGePqViHAIMQ5n8DAFb/49reYmyHAAAAAElFTkSuQmCC","cc-by-nc-sa":t+"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","cc-by-nc-nd":t+"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"},r;return{_setup:function(t){var i="",s=t.license&&n[t.license.toLowerCase()],o="target=_blank";t._container=document.createElement("div"),t._container.style.display="none",r=document.getElementById(t.target),t.nameofworkurl&&(i+="<a href='"+t.nameofworkurl+"' "+o+">"),t.nameofwork&&(i+=t.nameofwork),t.nameofworkurl&&(i+="</a>"),t.copyrightholderurl&&(i+="<a href='"+t.copyrightholderurl+"' "+o+">"),t.copyrightholder&&(i+=", "+t.copyrightholder),t.copyrightholderurl&&(i+="</a>"),i===""&&(i=t.text),t.license?s?t.licenseurl?i="<a href='"+t.licenseurl+"' "+o+"><img src='"+s+"' border='0'/></a> "+i:i="<img src='"+s+"' />"+i:(i+=", license: ",t.licenseurl?i+="<a href='"+t.licenseurl+"' "+o+">"+t.license+"</a> ":i+=t.license):t.licenseurl&&(i+=", <a href='"+t.licenseurl+"' "+o+">license</a> "),t._container.innerHTML=i;if(!r&&e.plugin.debug)throw new Error("target container doesn't exist");r&&r.appendChild(t._container)},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){r=document.getElementById(e.target),r&&r.removeChild(e._container)}}}(),{about:{name:"Popcorn Attribution Plugin",version:"0.2",author:"@rwaldron",website:"github.com/rwldrn"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},nameofwork:{elem:"input",type:"text",label:"Name of Work"},nameofworkurl:{elem:"input",type:"url",label:"Url of Work"},copyrightholder:{elem:"input",type:"text",label:"Copyright Holder"},copyrightholderurl:{elem:"input",type:"url",label:"Copyright Holder Url"},license:{elem:"input",type:"text",label:"License type"},licenseurl:{elem:"input",type:"url",label:"License URL"},target:"attribution-container"}})}(Popcorn),function(e){e.plugin("code",function(t){var n=!1,r=function(){var e=function(e){return function(t,r){var i=function(){n&&t(),n&&e(i)};i()}};return window.webkitRequestAnimationFrame?e(window.webkitRequestAnimationFrame):window.mozRequestAnimationFrame?e(window.mozRequestAnimationFrame):e(function(e){window.setTimeout(e,16)})}();if(!t.onStart||typeof t.onStart!="function"){if(e.plugin.debug)throw new Error("Popcorn Code Plugin Error: onStart must be a function.");t.onStart=e.nop}if(t.onEnd&&typeof t.onEnd!="function"){if(e.plugin.debug)throw new Error("Popcorn Code Plugin Error: onEnd  must be a function.");t.onEnd=undefined}if(t.onFrame&&typeof t.onFrame!="function"){if(e.plugin.debug)throw new Error("Popcorn Code Plugin Error: onFrame  must be a function.");t.onFrame=undefined}return{start:function(e,t){t.onStart(t),t.onFrame&&(n=!0,r(t.onFrame,t))},end:function(e,t){t.onFrame&&(n=!1),t.onEnd&&t.onEnd(t)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame"},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn),function(e){var t=0;e.plugin("flickr",function(n){var r,i=document.getElementById(n.target),s,o,u,a,f=n.numberofimages||4,l=n.height||"50px",c=n.width||"50px",h=n.padding||"5px",p=n.border||"0px";r=document.createElement("div"),r.id="flickr"+t,r.style.width="100%",r.style.height="100%",r.style.display="none",t++;if(!i&&e.plugin.debug)throw new Error("flickr target container doesn't exist");i&&i.appendChild(r);var d=function(){s?setTimeout(function(){d()},5):(o="http://api.flickr.com/services/rest/?method=flickr.people.findByUsername&",o+="username="+n.username+"&api_key="+n.apikey+"&format=json&jsoncallback=flickr",e.getJSONP(o,function(e){s=e.user.nsid,v()}))},v=function(){o="http://api.flickr.com/services/feeds/photos_public.gne?",s&&(o+="id="+s+"&"),n.tags&&(o+="tags="+n.tags+"&"),o+="lang=en-us&format=json&jsoncallback=flickr",e.xhr.getJSONP(o,function(t){var n=document.createElement("p");n.innerHTML="<p style='padding:"+h+";'>"+t.title+"<p/>",e.forEach(t.items,function(e,t){if(!(t<f))return!1;u=document.createElement("a"),u.setAttribute("href",e.link),u.setAttribute("target","_blank"),a=document.createElement("img"),a.setAttribute("src",e.media.m),a.setAttribute("height",l),a.setAttribute("width",c),a.setAttribute("style","border:"+p+";padding:"+h),u.appendChild(a),n.appendChild(u)}),r.appendChild(n)})};return n.username&&n.apikey?d():(s=n.userid,v()),{start:function(e,t){r.style.display="inline"},end:function(e,t){r.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(r)}}},{about:{name:"Popcorn Flickr Plugin",version:"0.2",author:"Scott Downe, Steven Weerdenburg, Annasob",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"In"},end:{elem:"input",type:"number",label:"Out"},userid:{elem:"input",type:"text",label:"UserID"},tags:{elem:"input",type:"text",label:"Tags"},username:{elem:"input",type:"text",label:"Username"},apikey:{elem:"input",type:"text",label:"Api_key"},target:"flickr-container",height:{elem:"input",type:"text",label:"Height"},width:{elem:"input",type:"text",label:"Width"},padding:{elem:"input",type:"text",label:"Padding"},border:{elem:"input",type:"text",label:"Border"},numberofimages:{elem:"input",type:"text",label:"Number of Images"}}})}(Popcorn),function(e){e.forEach(["footnote","text"],function(t){e.plugin(t,{manifest:{about:{name:"Popcorn "+t+" Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},text:{elem:"input",type:"text",label:"Text"},target:t+"-container"}},_setup:function(t){var n=document.getElementById(t.target);t._container=document.createElement("div"),t._container.style.display="none",t._container.innerHTML=t.text;if(!n&&e.plugin.debug)throw new Error("target container doesn't exist");n&&n.appendChild(t._container)},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._container)}})})}(Popcorn),function(e,t){var n=!1;e.plugin("facebook",{manifest:{about:{name:"Popcorn Facebook Plugin",version:"0.1",author:"Dan Ventura, Matthew Schranz: @mjschranz",website:"dsventura.blogspot.com, mschranz.wordpress.com"},options:{type:{elem:"select",options:["LIKE","LIKE-BOX","ACTIVITY","FACEPILE","LIVE-STREAM","SEND","COMMENTS"],label:"Type"},target:"facebook-container",start:{elem:"input",type:"number",label:"In"},end:{elem:"input",type:"number",label:"Out"},font:{elem:"input",type:"text",label:"font"},xid:{elem:"input",type:"text",label:"Xid"},href:{elem:"input",type:"url",label:"Href"},site:{elem:"input",type:"url",label:"Site"},height:{elem:"input",type:"text",label:"Height"},width:{elem:"input",type:"text",label:"Width"},action:{elem:"select",options:["like","recommend"],label:"Action"},stream:{elem:"select",options:["false","true"],label:"Stream"},header:{elem:"select",options:["false","true"],label:"Header"},layout:{elem:"select",options:["standard","button_count","box_count"],label:"Layout"},max_rows:{elem:"input",type:"text",label:"Max_rows"},border_color:{elem:"input",type:"text",label:"Border_color"},event_app_id:{elem:"input",type:"text",label:"Event_app_id"},colorscheme:{elem:"select",options:["light","dark"],label:"Colorscheme"},show_faces:{elem:"select",options:["false","true"],label:"Showfaces"},recommendations:{elem:"select",options:["false","true"],label:"Recommendations"},always_post_to_friends:{elem:"input",options:["false","true"],label:"Always_post_to_friends"},num_posts:{elem:"input",type:"text",label:"Number_of_Comments"}}},_setup:function(r){var i=document.getElementById(r.target),s=r.type;if(!document.getElementById("fb-root")){var o=document.createElement("div");o.setAttribute("id","fb-root"),document.body.appendChild(o)}if(!n||r.event_app_id)n=!0,e.getScript("//connect.facebook.net/en_US/all.js"),t.fbAsyncInit=function(){FB.init({appId:r.event_app_id||"",status:!0,cookie:!0,xfbml:!0})};s=s.toLowerCase();var u=function(e){return["like","like-box","activity","facepile","live-stream","send","comments"].indexOf(e)>-1};if(!u(s))throw new Error("Facebook plugin type was invalid.");r._container=document.createElement("div"),r._container.id="facebookdiv-"+e.guid(),r._facebookdiv=document.createElement("fb:"+s),r._container.appendChild(r._facebookdiv);var a=s==="activity"?"site":"href";r._facebookdiv.setAttribute(a,r[a]||document.URL);var f="width height layout show_faces stream header colorscheme maxrows border_color recommendations font always_post_to_friends xid num_posts".split(" ");e.forEach(f,function(e){r[e]!=null&&r._facebookdiv.setAttribute(e,r[e])});if(!i&&e.plugin.debug)throw new Error("Facebook target container doesn't exist");i&&i.appendChild(r._container)},start:function(e,t){t._container.style.display=""},end:function(e,t){t._container.style.display="none"},_teardown:function(e){var t=document.getElementById(e.target);t&&t.removeChild(e._container)}})}(Popcorn,this);var t;(function(e){var n=1,r=!1,i=!1,s,o;t=function(e){typeof google!="undefined"&&google.maps&&google.maps.Geocoder&&google.maps.LatLng?(s=new google.maps.Geocoder,i=!0):setTimeout(function(){t(e)},1)},o=function(){document.body?(r=!0,e.getScript("//maps.google.com/maps/api/js?sensor=false&callback=googleCallback")):setTimeout(function(){o()},1)},e.plugin("googlemap",function(t){var u,a,f,l=document.getElementById(t.target);r||o(),u=document.createElement("div"),u.id="actualmap"+n,u.style.width="100%",u.style.height="100%",n++;if(!l&&e.plugin.debug)throw new Error("target container doesn't exist");l&&l.appendChild(u);var c=function(){i?t.location?s.geocode({address:t.location},function(e,n){n===google.maps.GeocoderStatus.OK&&(t.lat=e[0].geometry.location.lat(),t.lng=e[0].geometry.location.lng(),f=new google.maps.LatLng(t.lat,t.lng),a=new google.maps.Map(u,{mapTypeId:google.maps.MapTypeId[t.type]||google.maps.MapTypeId.HYBRID}),a.getDiv().style.display="none")}):(f=new google.maps.LatLng(t.lat,t.lng),a=new google.maps.Map(u,{mapTypeId:google.maps.MapTypeId[t.type]||google.maps.MapTypeId.HYBRID}),a.getDiv().style.display="none"):setTimeout(function(){c()},5)};return c(),{start:function(e,t){var n=this,r,i=function(){if(a){a.getDiv().style.display="block",google.maps.event.trigger(a,"resize"),a.setCenter(f),t.zoom&&typeof t.zoom!="number"&&(t.zoom=+t.zoom),t.zoom=t.zoom||8,a.setZoom(t.zoom),t.heading&&typeof t.heading!="number"&&(t.heading=+t.heading),t.pitch&&typeof t.pitch!="number"&&(t.pitch=+t.pitch);if(t.type==="STREETVIEW"){a.setStreetView(r=new google.maps.StreetViewPanorama(u,{position:f,pov:{heading:t.heading=t.heading||0,pitch:t.pitch=t.pitch||0,zoom:t.zoom}}));var e=function(r,i){var u=google.maps.geometry.spherical.computeHeading;setTimeout(function(){var i=n.media.currentTime;if(typeof t.tween=="object"){for(var a=0,f=r.length;a<f;a++){var l=r[a];i>=l.interval*(a+1)/1e3&&(i<=l.interval*(a+2)/1e3||i>=l.interval*f/1e3)&&(d.setPosition(new google.maps.LatLng(l.position.lat,l.position.lng)),d.setPov({heading:l.pov.heading||u(l,r[a+1])||0,zoom:l.pov.zoom||0,pitch:l.pov.pitch||0}))}e(r,r[0].interval)}else{for(var c=0,h=r.length;c<h;c++){var p=t.interval;i>=p*(c+1)/1e3&&(i<=p*(c+2)/1e3||i>=p*h/1e3)&&(s.setPov({heading:u(r[c],r[c+1])||0,zoom:t.zoom,pitch:t.pitch||0}),s.setPosition(o[c]))}e(o,t.interval)}},i)};if(t.location&&typeof t.tween=="string"){var s=r,o=[],l=new google.maps.DirectionsService,c=new google.maps.DirectionsRenderer(s),h={origin:t.location,destination:t.tween,travelMode:google.maps.TravelMode.DRIVING};l.route(h,function(e,t){t==google.maps.DirectionsStatus.OK&&(c.setDirections(e),p(e,n))});var p=function(n,r){var i=n.routes[0].overview_path;for(var s=0,u=i.length;s<u;s++)o.push(new google.maps.LatLng(i[s].lat(),i[s].lng()));t.interval=t.interval||1e3,e(o,10)}}else if(typeof t.tween=="object"){var d=r;for(var v=0,m=t.tween.length;v<m;v++)t.tween[v].interval=t.tween[v].interval||1e3,e(t.tween,10)}}}else setTimeout(function(){i()},13)};i()},end:function(e,t){a&&(a.getDiv().style.display="none")},_teardown:function(e){var t=document.getElementById(e.target);t&&t.removeChild(u),u=a=f=null}}},{about:{name:"Popcorn Google Map Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","STREETVIEW","HYBRID","TERRAIN"],label:"Type"},zoom:{elem:"input",type:"text",label:"Zoom"},lat:{elem:"input",type:"text",label:"Lat"},lng:{elem:"input",type:"text",label:"Lng"},location:{elem:"input",type:"text",label:"Location"},heading:{elem:"input",type:"text",label:"Heading"},pitch:{elem:"input",type:"text",label:"Pitch"}}})})(Popcorn),function(e){e.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"In"},end:{elem:"input",type:"number",label:"Out"},href:{elem:"input",type:"url",label:"Link URL"},target:"image-container",src:{elem:"input",type:"url",label:"Source URL"},text:{elem:"input",type:"text",label:"TEXT"}}},_setup:function(t){var n=document.createElement("img"),r=document.getElementById(t.target);t.link=document.createElement("a"),t.link.style.position="relative",t.link.style.textDecoration="none";if(!r&&e.plugin.debug)throw new Error("target container doesn't exist");r&&r.appendChild(t.link),n.addEventListener("load",function(){n.style.borderStyle="none",t.href&&(t.link.href=t.href),t.link.target="_blank";var r=n.height/12+"px",i=document.createElement("div");e.extend(i.style,{color:"black",fontSize:r,fontWeight:"bold",position:"relative",textAlign:"center",width:n.width+"px",zIndex:"10"}),i.innerHTML=t.text||"",t.link.appendChild(i),t.link.appendChild(n),i.style.top=n.height/2-i.offsetHeight/2+"px",t.link.style.display="none"},!1),n.src=t.src},start:function(e,t){t.link.style.display="block"},end:function(e,t){t.link.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e.link)}})}(Popcorn),function(e){var t=function(e){var t=0,n=0,r=0,i=null,s=null,o=!1,u=0,a=function(){},f=function(){e.background(0),n=r=0,i=s=null},l=function(t,n,r,i){var s,u,a,f;o?(s=n*e.height,u=e.width-t*e.width,a=i*e.height,f=e.width-r*e.width):(s=t*e.width,u=n*e.height,a=r*e.width,f=i*e.height),e.stroke(0),e.strokeWeight(13),e.strokeCap(e.SQUARE),e.line(s,u,a,f),e.stroke(255),e.strokeWeight(12),e.strokeCap(e.ROUND),e.line(s,u,a,f)},c=function(e){e<n&&f();while(n<=e){if(!u)return;t=u[r]||u;var o=t.pt[n],a=n;i!=null&&l(i,s,o.x,o.y),i=o.x,s=o.y,n===a&&n++}};e.draw=function(){a()},e.setup=function(){},e.construct=function(t,n,r){var i=function(){if(n){u=n.gml.tag.drawing.stroke;var e=(r.end-r.start)/(u.pt||function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t=t.concat(e[n].pt);return t}(u)).length,s=n.gml.tag,f=s.header&&s.header.client&&s.header.client.name;o=f==="Graffiti Analysis 2.0: DustTag"||f==="DustTag: Graffiti Analysis 2.0"||f==="Fat Tag - Katsu Edition",a=function(){t.currentTime<r.endDrawing&&c((t.currentTime-r.start)/e)};return}setTimeout(i,5)};e.size(640,640),e.frameRate(60),e.smooth(),f(),e.noLoop(),i()}};e.plugin("gml",{_setup:function(n){var r=this,i=document.getElementById(n.target);n.endDrawing=n.endDrawing||n.end,n.container=document.createElement("canvas"),n.container.style.display="none",n.container.setAttribute("id","canvas"+n.gmltag);if(!i&&e.plugin.debug)throw new Error("target container doesn't exist");i&&i.appendChild(n.container);var s=function(){e.getJSONP("//000000book.com/data/"+n.gmltag+".json?callback=",function(e){n.pjsInstance=new Processing(n.container,t),n.pjsInstance.construct(r.media,e,n),n._running&&n.pjsInstance.loop()},!1)};window.Processing?s():e.getScript("//processingjs.org/content/download/processing-js-1.3.0/processing-1.3.0.min.js",s)},start:function(e,t){t.pjsInstance&&t.pjsInstance.loop(),t.container.style.display="block"},end:function(e,t){t.pjsInstance&&t.pjsInstance.noLoop(),t.container.style.display="none"},_teardown:function(e){e.pjsInstance&&e.pjsInstance.exit(),document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e.container)}})}(Popcorn),function(e){var t={},n=function(n){if(n.artist){var r="";r="<h3>"+n.artist.name+"</h3>",r+="<a href='"+n.artist.url+"' target='_blank' style='float:left;margin:0 10px 0 0;'><img src='"+n.artist.image[2]["#text"]+"' alt=''></a>",r+="<p>"+n.artist.bio.summary+"</p>",r+="<hr /><p><h4>Tags</h4><ul>",e.forEach(n.artist.tags.tag,function(e,t){r+="<li><a href='"+e.url+"'>"+e.name+"</a></li>"}),r+="</ul></p>",r+="<hr /><p><h4>Similar</h4><ul>",e.forEach(n.artist.similar.artist,function(e,t){r+="<li><a href='"+e.url+"'>"+e.name+"</a></li>"}),r+="</ul></p>",t[n.artist.name.toLowerCase()].htmlString=r}};e.plugin("lastfm",function(){return{_setup:function(r){r._container=document.createElement("div"),r._container.style.display="none",r._container.innerHTML="",r.artist=r.artist&&r.artist.toLowerCase()||"";var i=document.getElementById(r.target);if(!i&&e.plugin.debug)throw new Error("target container doesn't exist");i&&i.appendChild(r._container),t[r.artist]||(t[r.artist]={count:0,htmlString:"Unknown Artist"},e.getJSONP("//ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist="+r.artist+"&api_key="+r.apikey+"&format=json&callback=lastFMcallback",n,!1)),t[r.artist].count++},start:function(e,n){n._container.innerHTML=t[n.artist].htmlString,n._container.style.display="inline"},end:function(e,t){t._container.style.display="none",t._container.innerHTML=""},_teardown:function(e){--t[e.artist].count||delete t[e.artist],document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._container)}}}(),{about:{name:"Popcorn LastFM Plugin",version:"0.1",author:"Steven Weerdenburg",website:"http://sweerdenburg.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"lastfm-container",artist:{elem:"input",type:"text",label:"Artist"}}})}(Popcorn),function(e){e.plugin("lowerthird",{manifest:{about:{name:"Popcorn lowerthird Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"lowerthird-container",salutation:{elem:"input",type:"text",label:"Text"},name:{elem:"input",type:"text",label:"Text"},role:{elem:"input",type:"text",label:"Text"}}},_setup:function(t){var n=document.getElementById(t.target);this.container||(this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.color="white",this.container.style.textShadow="black 2px 2px 6px",this.container.style.fontSize="24px",this.container.style.fontWeight="bold",this.container.style.paddingLeft="40px",this.container.style.width=this.video.offsetWidth+"px",this.container.style.left=this.position().left+"px",this.video.parentNode.appendChild(this.container));if(t.target&&t.target!=="lowerthird-container"){t.container=document.createElement("div");if(!n&&e.plugin.debug)throw new Error("target container doesn't exist");n&&n.appendChild(t.container)}else t.container=this.container},start:function(e,t){t.container.innerHTML=(t.salutation?t.salutation+" ":"")+t.name+(t.role?"<br />"+t.role:""),this.container.style.top=this.position().top+this.video.offsetHeight-(40+this.container.offsetHeight)+"px"},end:function(e,t){t.container.innerHTML=""}})}(Popcorn),function(e){var t=1,n=!1;e.plugin("googlefeed",function(r){var i=function(){var t=!1,r=0,i=document.getElementsByTagName("link"),s=i.length,o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("link"),a="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.";window.GFdynamicFeedControl?n=!0:e.getScript(a+"js",function(){n=!0});for(;r<s;r++)i[r].href===a+"css"&&(t=!0);t||(u.type="text/css",u.rel="stylesheet",u.href=a+"css",o.insertBefore(u,o.firstChild))};window.google?i():e.getScript("//www.google.com/jsapi",function(){google.load("feeds","1",{callback:function(){i()}})});var s=document.createElement("div"),o=document.getElementById(r.target),u=function(){n?r.feed=new GFdynamicFeedControl(r.url,s,{vertical:r.orientation.toLowerCase()==="vertical"?!0:!1,horizontal:r.orientation.toLowerCase()==="horizontal"?!0:!1,title:r.title=r.title||"Blog"}):setTimeout(function(){u()},5)};if(!r.orientation||r.orientation.toLowerCase()!=="vertical"&&r.orientation.toLowerCase()!=="horizontal")r.orientation="vertical";s.style.display="none",s.id="_feed"+t,s.style.width="100%",s.style.height="100%",t++;if(!o&&e.plugin.debug)throw new Error("target container doesn't exist");return o&&o.appendChild(s),u(),{start:function(e,t){s.setAttribute("style","display:inline")},end:function(e,t){s.setAttribute("style","display:none")},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(s),delete e.feed}}},{about:{name:"Popcorn Google Feed Plugin",version:"0.1",author:"David Seifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"feed-container",url:{elem:"input",type:"url",label:"url"},title:{elem:"input",type:"text",label:"title"},orientation:{elem:"select",options:["Vertical","Horizontal"],label:"orientation"}}})}(Popcorn),function(e){var t=0,n=function(t,n){var r=t.container=document.createElement("div"),i=r.style,s=t.media,o=function(){var e=t.position();i.fontSize="18px",i.width=s.offsetWidth+"px",i.top=e.top+s.offsetHeight-r.offsetHeight-40+"px",i.left=e.left+"px",setTimeout(o,10)};return r.id=n||e.guid(),i.position="absolute",i.color="white",i.textShadow="black 2px 2px 6px",i.fontWeight="bold",i.textAlign="center",o(),t.media.parentNode.appendChild(r),r};e.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(e){var r=document.createElement("div");r.id="subtitle-"+t++,r.style.display="none",!this.container&&(!e.target||e.target==="subtitle-container")&&n(this),e.target&&e.target!=="subtitle-container"?e.container=document.getElementById(e.target)||n(this,e.target):e.container=this.container,document.getElementById(e.container.id)&&document.getElementById(e.container.id).appendChild(r),e.innerContainer=r,e.showSubtitle=function(){e.innerContainer.innerHTML=e.text||""}},start:function(e,t){t.innerContainer.style.display="inline",t.showSubtitle(t,t.text)},end:function(e,t){t.innerContainer.style.display="none",t.innerContainer.innerHTML=""},_teardown:function(e){e.container.removeChild(e.innerContainer)}})}(Popcorn),function(e){var t=[],n=function(){this.name="",this.contains={},this.toString=function(){var e=[];for(var t in this.contains)this.contains.hasOwnProperty(t)&&e.push(" "+this.contains[t]);return e.toString()}};e.plugin("tagthisperson",function(){return{_setup:function(r){var i=!1,s=document.getElementById(r.target);if(!s&&e.plugin.debug)throw new Error("target container doesn't exist");for(var o=0;o<t.length;o++)if(t[o].name===r.target){r._p=t[o],i=!0;break}i||(r._p=new n,r._p.name=r.target,t.push(r._p))},start:function(e,t){t._p.contains[t.person]=t.image?"<img src='"+t.image+"'/> ":"",t._p.contains[t.person]+=t.href?"<a href='"+t.href+"' target='_blank'> "+t.person+"</a>":t.person,document.getElementById(t.target).innerHTML=t._p.toString()},end:function(e,t){delete t._p.contains[t.person],document.getElementById(t.target).innerHTML=t._p.toString()}}}(),{about:{name:"Popcorn tagthisperson Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"tagthisperson-container",person:{elem:"input",type:"text",label:"Name"},image:{elem:"input",type:"url",label:"Image Src"},href:{elem:"input",type:"url",label:"URL"}}})}(Popcorn),function(e){var t=!1;e.plugin("twitter",{manifest:{about:{name:"Popcorn Twitter Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"In"},end:{elem:"input",type:"number",label:"Out"},src:{elem:"input",type:"text",label:"Source"},target:"twitter-container",height:{elem:"input",type:"number",label:"Height"},width:{elem:"input",type:"number",label:"Width"}}},_setup:function(n){!window.TWTR&&!t&&(t=!0,e.getScript("//widgets.twimg.com/j/2/widget.js"));var r=document.getElementById(n.target);n.container=document.createElement("div"),n.container.setAttribute("id",e.guid()),n.container.style.display="none";if(!r&&e.plugin.debug)throw new Error("target container doesn't exist");r&&r.appendChild(n.container);var i=n.src||"",s=n.width||250,o=n.height||200,u=/^@/.test(i),a={version:2,id:n.container.getAttribute("id"),rpp:30,width:s,height:o,interval:6e3,theme:{shell:{background:"#ffffff",color:"#000000"},tweets:{background:"#ffffff",color:"#444444",links:"#1985b5"}},features:{loop:!0,timestamp:!0,avatars:!0,hashtags:!0,toptweets:!0,live:!0,scrollbar:!1,behavior:"default"}},f=function(e){window.TWTR?u?(a.type="profile",(new TWTR.Widget(a)).render().setUser(i).start()):(a.type="search",a.search=i,a.subject=i,(new TWTR.Widget(a)).render().start()):setTimeout(function(){f(e)},1)};f(this)},start:function(e,t){t.container.style.display="inline"},end:function(e,t){t.container.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e.container)}})}(Popcorn),function(e){e.plugin("webpage",{manifest:{about:{name:"Popcorn Webpage Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{id:{elem:"input",type:"text",label:"Id"},start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},src:{elem:"input",type:"url",label:"Src"},target:"iframe-container"}},_setup:function(t){var n=document.getElementById(t.target);t.src=t.src.replace(/^(https?:)?(\/\/)?/,"//"),t._iframe=document.createElement("iframe"),t._iframe.setAttribute("width","100%"),t._iframe.setAttribute("height","100%"),t._iframe.id=t.id,t._iframe.src=t.src,t._iframe.style.display="none";if(!n&&e.plugin.debug)throw new Error("target container doesn't exist");n&&n.appendChild(t._iframe)},start:function(e,t){t._iframe.src=t.src,t._iframe.style.display="inline"},end:function(e,t){t._iframe.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._iframe)}})}(Popcorn);var n;(function(e){e.plugin("wikipedia",{manifest:{about:{name:"Popcorn Wikipedia Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},lang:{elem:"input",type:"text",label:"Language"},src:{elem:"input",type:"url",label:"Src"},title:{elem:"input",type:"text",label:"Title"},numberofwords:{elem:"input",type:"text",label:"Num Of Words"},target:"wikipedia-container"}},_setup:function(t){var n,r=e.guid();t.lang||(t.lang="en"),t.numberofwords=t.numberofwords||200,window["wikiCallback"+r]=function(e){t._link=document.createElement("a"),t._link.setAttribute("href",t.src),t._link.setAttribute("target","_blank"),t._link.innerHTML=t.title||e.parse.displaytitle,t._desc=document.createElement("p"),n=e.parse.text["*"].substr(e.parse.text["*"].indexOf("<p>")),n=n.replace(/((<(.|\n)+?>)|(\((.*?)\) )|(\[(.*?)\]))/g,""),n=n.split(" "),t._desc.innerHTML=n.slice(0,n.length>=t.numberofwords?t.numberofwords:n.length).join(" ")+" ...",t._fired=!0};if(t.src)e.getScript("//"+t.lang+".wikipedia.org/w/api.php?action=parse&props=text&page="+t.src.slice(t.src.lastIndexOf("/")+1)+"&format=json&callback=wikiCallback"+r);else if(e.plugin.debug)throw new Error("Wikipedia plugin needs a 'src'")},start:function(e,t){var n=function(){t._fired?t._link&&t._desc&&document.getElementById(t.target)&&(document.getElementById(t.target).appendChild(t._link),document.getElementById(t.target).appendChild(t._desc),t._added=!0):setTimeout(function(){n()},13)};n()},end:function(e,t){t._added&&(document.getElementById(t.target).removeChild(t._link),document.getElementById(t.target).removeChild(t._desc))},_teardown:function(e){e._added&&(e._link.parentNode&&document.getElementById(e.target).removeChild(e._link),e._desc.parentNode&&document.getElementById(e.target).removeChild(e._desc),delete e.target)}})})(Popcorn),function(e,t){var n={text:function(e){var t=e.post,n=document.createElement("a"),r=document.createTextNode(t.title),i=document.createElement("div");n.setAttribute("href",t.post_url),n.appendChild(r),i.appendChild(n),i.innerHTML+=t.body,e._container.appendChild(i)},photo:function(t){var n=t.width||250,r=-1,i=[t.post.photos.length],s=[t.post.photos.length],o=document.createElement("div"),u=document.createElement("img"),a=t.post;for(var f=0,l=a.photos.length;f<l;f++){var c=a.photos[f],h=c.alt_sizes;for(var p=0,d=h.length;p<d;p++){var v=h[p];if(v.width===n){s[f]=v.url,i[f]=c.caption,r=0;break}v.width===250&&(r=p)}r===-1&&e.error("Clearly your blog has a picture that is so tiny it isn't even 250px wide. Consider  using a bigger picture or try a smaller size."),p===h.length&&(s[f]=h[r].url)}for(var m=0,g=s.length;m<g;m++)o.innerHTML+=i[m]+"<br/>",u.setAttribute("src",s[m]),u.setAttribute("alt","Pic"+m),o.appendChild(u),o.innerHTML+="<br/>";o.innerHTML+="<br/>"+a.caption,t._container.appendChild(o)},audio:function(e){var t=document.createElement("div"),n=document.createElement("a"),r=e.post;if(!r.artist){var i=document.createTextNode(r.source_title);n.setAttribute("href",r.source_url),n.appendChild(i),t.appendChild(n),t.innerHTML+="<br/>"}else{var s=document.createElement("img");t.innerHTML+="Artist: "+r.artist+"<br/>",n.setAttribute("href",r.source_url),s.setAttribute("src",r.album_art),s.setAttribute("alt",r.album),n.appendChild(s),t.appendChild(n),t.innerHTML+="<hr/>"+r.track_number+" - "+r.track_name+"<br/>"}t.innerHTML+=r.player+"   "+r.plays+"plays<br/>"+r.caption,e._container.appendChild(t)},video:function(t){var n=t.width||400,r=-1,i=t.post,s=document.createElement("div"),o;for(var u=0,a=i.player.length;u<a;u++){var f=i.player[u];if(f.width===n){o=f.embed_code,r=0;break}f.width===400&&(r=u)}u===t.post.player.length&&(o=i.player[r].embed_code),r===-1&&e.error("Specified video size was not found and default was never found. Please try another width."),s.innerHTML+=o+"<br/>"+i.caption,t._container.appendChild(s)},chat:function(e){var t=e.post,n,r=document.createElement("div");r.innerHTML+="<strong><u>"+t.title+"</u></strong><br/><br/>";for(var i=0,s=t.dialogue.length;i<s;i++)n=t.dialogue[i],r.innerHTML+=n.label+" "+n.phrase+"<br/>";e._container.appendChild(r)},quote:function(e){var t=document.createElement("div"),n=document.createElement("a"),r=e.post,i=document.createTextNode(r.text);n.setAttribute("href",r.post_url),n.appendChild(i),t.appendChild(n),t.innerHTML+="<br/><br/>Source: <b>"+r.source+"</b>",e._container.appendChild(t)},link:function(e){var t=document.createElement("div"),n=document.createElement("a"),r=e.post,i=document.createTextNode(r.title);n.setAttribute("href",r.post_url),n.appendChild(i),t.appendChild(n),t.innerHTML+="<br/>"+r.description,e._container.appendChild(t)},answer:function(e){var t=document.createElement("div"),n=document.createElement("a"),r=e.post,i=document.createTextNode(r.asking_name);t.innerHTML="Inquirer: ",n.setAttribute("href",r.asking_url),n.appendChild(i),t.appendChild(n),t.innerHTML+="<br/><br/>Question: "+r.question+"<br/>Answer: "+r.answer,e._container.appendChild(t)}};e.plugin("tumblr",{manifest:{about:{name:"Popcorn Tumblr Plugin",version:"0.1",author:"Matthew Schranz, @mjschranz",website:"mschranz.wordpress.com"},options:{requestType:{elem:"select",options:["INFO","AVATAR","BLOGPOST"],label:"Type_Of_Plugin"},target:"tumblr-container",start:{elem:"input",type:"number",label:"Start_Time"},end:{elem:"input",type:"number",label:"End_Time"},base_hostname:{elem:"input",type:"text",label:"User_Name"},api_key:{elem:"input",type:"text",label:"Application_Key"},size:{elem:"select",options:[16,24,30,40,48,64,96,128,512],label:"avatarSize"},blogId:{elem:"input",type:"number",label:"Blog_ID"},width:{elem:"input",type:"number",label:"Photo_Width"}}},_setup:function(t){var r=document.getElementById(t.target),i,s,o,u,a,f,l=function(e){return["info","avatar","blogpost"].indexOf(e)>-1};t.requestType=t.requestType.toLowerCase(),(!t.base_hostname||!t.api_key&&(t.requestType==="info"||t.requestType==="blogpost"))&&e.error("Must provide a blog URL to the plugin and an api_key for Blog Info and Blog Post requests."),!l(t.requestType)&&e.error("Invalid tumblr plugin type."),t.requestType==="blogpost"&&t.blogId===undefined&&e.error("Error. BlogId required for blogpost requests"),!r&&e.plugin.debug&&e.error("Target Tumblr container doesn't exist."),s=t.base_hostname.slice(t.base_hostname.indexOf("/")+2,t.base_hostname.length),o=t.base_hostname.slice(0,t.base_hostname.indexOf("/")+2),u=o==="http://"||o==="https://"?s:t.base_hostname,u.indexOf("/")>-1&&(u=u.slice(0,u.indexOf("/"))),t.base_hostname=u,t._container=document.createElement("div"),t._container.id="tumblrdiv-"+e.guid(),t.requestType==="avatar"?t._container.innerHTML="<img src=http://api.tumblr.com/v2/blog/"+t.base_hostname+"/avatar/"+t.size+" alt='BlogAvatar' />":(t.requestType==="blogpost"?f="posts":f="info",i="http://api.tumblr.com/v2/blog/"+t.base_hostname+"/"+f+"?api_key="+t.api_key+"&id="+t.blogId+"&jsonp=tumblrCallBack",e.getJSONP(i,function(r){if(r.meta.msg==="OK"){var i=document.createElement("div");if(t.requestType==="blogpost"){t.post=r.response.posts[0];var s=t.post.type,o=t.post,u=o.tags;i.innerHTML="Date Published: "+t.post.date.slice(0,t.post.date.indexOf(" "))+"<br/>";if(u.length!==0){i.innerHTML+="Tags: "+u[0];for(var a=1,f=u.length;a<f;a++)i.innerHTML+=", "+u[a]}else i.innerHTML+="Tags: No Tags Used";t._container.appendChild(i),n[s](t)}else{var l=document.createElement("a"),c=r.response.blog,h=document.createTextNode(c.title);l.setAttribute("href",c.url),l.appendChild(h),i.appendChild(l),i.innerHTML+=c.description,t._container.appendChild(i)}}else e.error("Error. Request failed. Status code: "+r.meta.status+" - Message: "+r.meta.msg)},!1)),t._container.style.display="none",r&&r.appendChild(t._container)},start:function(e,t){t._container&&(t._container.style.display="")},end:function(e,t){t._container&&(t._container.style.display="none")},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._container)}})}(Popcorn,this),function(e){e.plugin("linkedin",{manifest:{about:{name:"Popcorn LinkedIn Plugin",version:"0.1",author:"Dan Ventura",website:"dsventura.blogspot.com"},options:{type:{elem:"input",type:"text",label:"Type"},url:{elem:"input",type:"text",label:"URL"},apikey:{elem:"input",type:"text",label:"API Key"},counter:{elem:"input",type:"text",label:"Counter"},memberid:{elem:"input",type:"text",label:"Member ID"},format:{elem:"input",type:"text",label:"Format"},companyid:{elem:"input",type:"text",label:"Company ID"},modules:{elem:"input",type:"text",label:"Modules"},productid:{elem:"input",type:"text",label:"productid"},related:{elem:"input",type:"text",label:"related"},start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"linkedin-container"}},_setup:function(t){var n=t.apikey,r=document.getElementById(t.target),i=document.createElement("script");e.getScript("//platform.linkedin.com/in.js"),t._container=document.createElement("div"),t._container.appendChild(i),n&&(i.innerHTML="api_key: "+n),t.type=t.type&&t.type.toLowerCase()||"";var s=function(){t._container=document.createElement("p"),t._container.innerHTML="Plugin requires a valid <a href='https://www.linkedin.com/secure/developer'>apikey</a>";if(!r&&e.plugin.debug)throw"target container doesn't exist";r&&r.appendChild(t._container)},o=function(e){return{share:function(){i.setAttribute("type","IN/Share"),e.counter&&i.setAttribute("data-counter",e.counter),e.url&&i.setAttribute("data-url",e.url)},memberprofile:function(){i.setAttribute("type","IN/MemberProfile"),i.setAttribute("data-id",e.memberid),i.setAttribute("data-format",e.format||"inline"),e.text&&e.format.toLowerCase()!=="inline"&&i.setAttribute("data-text",e.text)},companyinsider:function(){i.setAttribute("type","IN/CompanyInsider"),i.setAttribute("data-id",e.companyid),e.modules&&e._container.setAttribute("data-modules",e.modules)},companyprofile:function(){i.setAttribute("type","IN/CompanyProfile"),i.setAttribute("data-id",e.companyid),i.setAttribute("data-format",e.format||"inline"),e.text&&e.format.toLowerCase()!=="inline"&&i.setAttribute("data-text",e.text),e.related!==undefined&&i.setAttribute("data-related",e.related)},recommendproduct:function(){i.setAttribute("type","IN/RecommendProduct"),i.setAttribute("data-company",e.companyid||"LinkedIn"),i.setAttribute("data-product",e.productid||"201714"),e.counter&&i.setAttribute("data-counter",e.counter)}}}(t);n?o[t.type]&&o[t.type]():s();if(!r&&e.plugin.debug)throw new Error("target container doesn't exist");r&&r.appendChild(t._container),t._container.style.display="none"},start:function(e,t){t._container.style.display="block"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){var t=document.getElementById(e.target);t&&t.removeChild(e._container)}})}(Popcorn),function(e){e.plugin("mustache",function(t){var n,r,i,s;e.getScript("https://github.com/janl/mustache.js/raw/master/mustache.js");var o=!!t.dynamic,u=typeof t.template,a=typeof t.data,f=document.getElementById(t.target);if(!f&&e.plugin.debug)throw new Error("target container doesn't exist");t.container=f||document.createElement("div");if(u==="function")o?i=t.template:s=t.template(t);else if(u==="string")s=t.template;else{if(e.plugin.debug)throw new Error("Mustache Plugin Error: options.template must be a String or a Function.");s=""}if(a==="function")o?n=t.data:r=t.data(t);else if(a==="string")r=JSON.parse(t.data);else if(a==="object")r=t.data;else{if(e.plugin.debug)throw new Error("Mustache Plugin Error: options.data must be a String, Object, or Function.");r=""}return{start:function(e,t){var o=function(){if(!window.Mustache)setTimeout(function(){o()},10);else{n&&(r=n(t)),i&&(s=i(t));var e=Mustache.to_html(s,r).replace(/^\s*/mg,"");t.container.innerHTML=e}};o()},end:function(e,t){t.container.innerHTML=""},_teardown:function(e){n=r=i=s=null}}},{about:{name:"Popcorn Mustache Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"mustache-container",template:{elem:"input",type:"text",label:"Template"},data:{elem:"input",type:"text",label:"Data"},dynamic:{elem:"input",type:"text",label:"Dynamic"}}})}(Popcorn),function(e){function r(e,t){if(e.map){e.map.div.style.display=t;return}setTimeout(function(){r(e,t)},10)}var t,n=1;e.plugin("openmap",function(t){var i,s,o,u,a,f,l,c,h=document.getElementById(t.target);i=document.createElement("div"),i.id="openmapdiv"+n,i.style.width="100%",i.style.height="100%",n++;if(!h&&e.plugin.debug)throw new Error("target container doesn't exist");return h&&h.appendChild(i),c=function(){if(!window.OpenLayers)setTimeout(function(){c()},50);else{t.location?(location=new OpenLayers.LonLat(0,0),e.getJSONP("//tinygeocoder.com/create-api.php?q="+t.location+"&callback=jsonp",function(e){s=new OpenLayers.LonLat(e[1],e[0]),t.map.setCenter(s)})):s=new OpenLayers.LonLat(t.lng,t.lat),t.type=t.type||"ROADMAP";if(t.type==="SATELLITE"){t.map=new OpenLayers.Map({div:i,maxResolution:.28125,tileSize:new OpenLayers.Size(512,512)});var n=new OpenLayers.Layer.WorldWind("LANDSAT","//worldwind25.arc.nasa.gov/tile/tile.aspx",2.25,4,{T:"105"});t.map.addLayer(n),u=new OpenLayers.Projection("EPSG:4326"),o=new OpenLayers.Projection("EPSG:4326")}else if(t.type==="TERRAIN"){u=new OpenLayers.Projection("EPSG:4326"),o=new OpenLayers.Projection("EPSG:4326"),t.map=new OpenLayers.Map({div:i,projection:o});var r=new OpenLayers.Layer.WMS("USGS Terraserver","//terraserver-usa.org/ogcmap.ashx?",{layers:"DRG"});t.map.addLayer(r)}else{o=new OpenLayers.Projection("EPSG:900913"),u=new OpenLayers.Projection("EPSG:4326"),s=s.transform(u,o),t.map=new OpenLayers.Map({div:i,projection:o,displayProjection:u});var a=new OpenLayers.Layer.OSM;t.map.addLayer(a)}t.map&&(t.map.div.style.display="none")}},c(),{_setup:function(t){window.OpenLayers||e.getScript("//openlayers.org/api/OpenLayers.js");var n=function(){if(!t.map)setTimeout(function(){n()},13);else{t.zoom=t.zoom||2,t.zoom&&typeof t.zoom!="number"&&(t.zoom=+t.zoom),t.map.setCenter(s,t.zoom);if(t.markers){var r=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]),i=function(e){clickedFeature=e.feature;if(!clickedFeature.attributes.text)return;l=new OpenLayers.Popup.FramedCloud("featurePopup",clickedFeature.geometry.getBounds().getCenterLonLat(),new OpenLayers.Size(120,250),clickedFeature.attributes.text,null,!0,function(e){f.unselect(this.feature)}),clickedFeature.popup=l,l.feature=clickedFeature,t.map.addPopup(l)},c=function(e){feature=e.feature,feature.popup&&(l.feature=null,t.map.removePopup(feature.popup),feature.popup.destroy(),feature.popup=null)},h=function(t){e.getJSONP("//tinygeocoder.com/create-api.php?q="+t.location+"&callback=jsonp",function(e){var n=(new OpenLayers.Geometry.Point(e[1],e[0])).transform(u,o),i=OpenLayers.Util.extend({},r);if(!t.size||isNaN(t.size))t.size=14;i.pointRadius=t.size,i.graphicOpacity=1,i.externalGraphic=t.icon;var s=new OpenLayers.Feature.Vector(n,null,i);t.text&&(s.attributes={text:t.text}),a.addFeatures([s])})};a=new OpenLayers.Layer.Vector("Point Layer",{style:r}),t.map.addLayer(a);for(var p=0,d=t.markers.length;p<d;p++){var v=t.markers[p];v.text&&(f||(f=new OpenLayers.Control.SelectFeature(a),t.map.addControl(f),f.activate(),a.events.on({featureselected:i,featureunselected:c})));if(v.location){var m=h;m(v)}else{var g=(new OpenLayers.Geometry.Point(v.lng,v.lat)).transform(u,o),y=OpenLayers.Util.extend({},r);if(!v.size||isNaN(v.size))v.size=14;y.pointRadius=v.size,y.graphicOpacity=1,y.externalGraphic=v.icon;var b=new OpenLayers.Feature.Vector(g,null,y);v.text&&(b.attributes={text:v.text}),a.addFeatures([b])}}}}};n()},start:function(e,t){r(t,"block")},end:function(e,t){r(t,"none")},_teardown:function(e){h&&h.removeChild(i),i=map=s=o=u=a=f=l=null}}},{about:{name:"Popcorn OpenMap Plugin",version:"0.3",author:"@mapmeld",website:"mapadelsur.blogspot.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","TERRAIN"],label:"Type"},zoom:{elem:"input",type:"text",label:"Zoom"},lat:{elem:"input",type:"text",label:"Lat"},lng:{elem:"input",type:"text",label:"Lng"},location:{elem:"input",type:"text",label:"Location"},markers:{elem:"input",type:"text",label:"List Markers"}}})}(Popcorn),document.addEventListener("click",function(e){var t=e.target;(t.nodeName==="A"||t.parentNode&&t.parentNode.nodeName==="A")&&Popcorn.instances.forEach(function(e){e.options.pauseOnLinkClicked&&e.pause()})},!1),function(e){var t={},n=0,r=function(e){t[e]=document.createElement("div");var n=document.getElementById(e);return n&&n.appendChild(t[e]),t[e].style.height="100%",t[e].style.position="relative",t[e]},i=document.createElement("span"),s=["webkit","Moz","ms","O",""],o=["Transform","TransitionDuration","TransitionTimingFunction"],u={},a;document.getElementsByTagName("head")[0].appendChild(i);for(var f=0,l=o.length;f<l;f++)for(var c=0,h=s.length;c<h;c++){a=s[c]+o[f];if(a in i.style){u[o[f].toLowerCase()]=a;break}}document.getElementsByTagName("head")[0].appendChild(i),e.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text"},color:{elem:"input",type:"text",label:"Color"}}},_setup:function(n){if(!document.getElementById(n.target)&&e.plugin.debug)throw new Error("target container doesn't exist");n._duration=n.end-n.start,n._container=t[n.target]||r(n.target),n.word=document.createElement("span"),n.word.style.position="absolute",n.word.style.whiteSpace="nowrap",n.word.style.opacity=0,n.word.style.MozTransitionProperty="opacity, -moz-transform",n.word.style.webkitTransitionProperty="opacity, -webkit-transform",n.word.style.OTransitionProperty="opacity, -o-transform",n.word.style.transitionProperty="opacity, transform",n.word.style[u.transitionduration]="1s, "+n._duration+"s",n.word.style[u.transitiontimingfunction]="linear",n.word.innerHTML=n.text,n.word.style.color=n.color||"black"},start:function(e,t){t._container.appendChild(t.word),t.word.style[u.transform]="",t.word.style.fontSize=~~(30+20*Math.random())+"px",n%=t._container.offsetWidth-t.word.offsetWidth,t.word.style.left=n+"px",n+=t.word.offsetWidth+10,t.word.style[u.transform]="translateY("+(t._container.offsetHeight-t.word.offsetHeight)+"px)",t.word.style.opacity=1,setTimeout(function(){t.word.style.opacity=0},(t.end-t.start-1||1)*1e3)},end:function(e,t){t.word.style.opacity=0},_teardown:function(e){var n=document.getElementById(e.target);e.word.parentNode&&e._container.removeChild(e.word),t[e.target]&&!t[e.target].childElementCount&&n&&n.removeChild(t[e.target])&&delete t[e.target]}})}(Popcorn),function(e){e.plugin("processing",function(t){var n=function(n){function r(t){var r=function(){n.listen("pause",function(){t.canvas.style.display==="inline"&&t.pjsInstance.noLoop()}),n.listen("play",function(){t.canvas.style.display==="inline"&&t.pjsInstance.loop()})};if(t.sketch)e.xhr({url:t.sketch,dataType:"text",success:function(e){t.codeReady=!1;var i=Processing.compile(e);t.pjsInstance=new Processing(t.canvas,i),t.seeking=!1,t._running&&!n.media.paused&&t.pjsInstance.loop()||t.pjsInstance.noLoop(),n.listen("seeking",function(){t._running&&t.canvas.style.display==="inline"&&t.noPause&&t.pjsInstance.loop()}),t.noPause=t.noPause||!1,!t.noPause&&r(),t.codeReady=!0}});else if(e.plugin.debug)throw new Error("Popcorn.Processing: options.sketch is undefined")}window.Processing?r(t):e.getScript("//wac.1237.edgecastcdn.net/801237/cdn.processingjs.org/content/download/processing-js-1.3.6/processing-1.3.6.min.js",function(){r(t)})};return{_setup:function(t){t.codeReady=!1,t.parentTarget=document.getElementById(t.target);if(!t.parentTarget&&e.plugin.debug)throw new Error("target container doesn't exist");var r=document.createElement("canvas");r.id=e.guid(t.target+"-sketch"),r.style.display="none",t.canvas=r,t.parentTarget&&t.parentTarget.appendChild(t.canvas),n(this)},start:function(e,t){t.codeReady&&!this.media.paused&&t.pjsInstance.loop(),t.canvas.style.display="inline"},end:function(e,t){t.pjsInstance&&t.pjsInstance.noLoop(),t.canvas.style.display="none"},_teardown:function(e){e.pjsInstance&&e.pjsInstance.exit(),e.parentTarget&&e.parentTarget.removeChild(e.canvas)}}},{about:{name:"Popcorn Processing Plugin",version:"0.1",author:"Christopher De Cairos, Benjamin Chalovich",website:"cadecairos.blogspot.com, ben1amin.wordpress.org"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:{elem:"input",type:"text",label:"Target"},sketch:{elem:"input",type:"url",label:"Sketch"},noPause:{elem:"select",options:["TRUE","FALSE"],label:"No Loop"}}})}(Popcorn),function(e){var t=1;e.plugin("timeline",function(n){var r=document.getElementById(n.target),i=document.createElement("div"),s,o=!0;r&&!r.firstChild?(r.appendChild(s=document.createElement("div")),s.style.width="inherit",s.style.height="inherit",s.style.overflow="auto"):s=r.firstChild,i.style.display="none",i.id="timelineDiv"+t,n.direction=n.direction||"up",n.direction.toLowerCase()==="down"&&(o=!1);if(r&&s)o?s.insertBefore(i,s.firstChild):s.appendChild(i);else if(e.plugin.debug)throw new Error("target container doesn't exist");return t++,i.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+n.title+"</span><br />"+"<span id='mid' style='font-size: 16px;'>"+n.text+"</span><br />"+n.innerHTML,{start:function(e,t){i.style.display="block",t.direction==="down"&&(s.scrollTop=s.scrollHeight)},end:function(e,t){i.style.display="none"},_teardown:function(e){s&&i&&s.removeChild(i)&&!s.firstChild&&r.removeChild(s)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"feed-container",title:{elem:"input",type:"text",label:"title"},text:{elem:"input",type:"text",label:"text"},innerHTML:{elem:"input",type:"text",label:"innerHTML"},direction:{elem:"input",type:"text",label:"direction"}}})}(Popcorn),function(e,t){var n={};e.plugin("documentcloud",{manifest:{about:{name:"Popcorn Document Cloud Plugin",version:"0.1",author:"@humphd, @ChrisDeCairos",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"documentcloud-container",width:{elem:"input",type:"text",label:"Width"},height:{elem:"input",type:"text",label:"Height"},src:{elem:"input",type:"text",label:"PDF URL"},preload:{elem:"input",type:"boolean",label:"Preload"},page:{elem:"input",type:"number",label:"Page Number"},aid:{elem:"input",type:"number",label:"Annotation Id"}}},_setup:function(r){function o(){function E(e){r._key=e.api.getId(),r._changeView=function(e){r.aid?e.pageSet.showAnnotation(e.api.getAnnotation(r.aid)):e.api.setCurrentPage(r.page)}}function S(t){var s=!1;return e.forEach(i.viewers,function(e,o){if(e.api.getSchema().canonicalURL===t){var u;E(e),u=n[r._key],r._containerId=u.id,u.num+=1,s=!0,i.loaded=!0}}),s}function x(){var e={num:1,id:r._containerId};n[r._key]=e,i.loaded=!0}i.loaded=!1;var o=r.url.replace(/\.html$/,".js"),u=r.target,a=t.getElementById(u),f=t.createElement("div"),l=e.position(a),c=r.width||l.width,h=r.height||l.height,p=r.sidebar||!0,d=r.text||!0,v=r.pdf||!0,m=r.showAnnotations||!0,g=r.zoom||700,y=r.search||!0,b=r.page,w;if(!S(r.url)){f.id=r._containerId=e.guid(u),w="#"+f.id,a.appendChild(f),s.trigger("documentready");var T=r.page||r.aid?function(e){E(e),r._changeView(e),f.style.visibility="hidden",e.elements.pages.hide(),x()}:function(e){E(e),x(),f.style.visibility="hidden",e.elements.pages.hide()};i.load(o,{width:c,height:h,sidebar:p,text:d,pdf:v,showAnnotations:m,zoom:g,search:y,container:w,afterLoad:T})}}function u(){window.DV.loaded?o():setTimeout(u,25)}var i=window.DV=window.DV||{},s=this;if(!i.loading){i.loading=!0,i.recordHit="//www.documentcloud.org/pixel.gif";var a=t.createElement("link"),f=t.getElementsByTagName("head")[0];a.rel="stylesheet",a.type="text/css",a.media="screen",a.href="//s3.documentcloud.org/viewer/viewer-datauri.css",f.appendChild(a),i.loaded=!1,e.getScript("http://s3.documentcloud.org/viewer/viewer.js",function(){i.loading=!1,o()})}else u()},start:function(e,n){var r=t.getElementById(n._containerId),i=DV.viewers[n._key];(n.page||n.aid)&&i&&n._changeView(i),r&&i&&(r.style.visibility="visible",i.elements.pages.show())},end:function(e,n){var r=t.getElementById(n._containerId);r&&DV.viewers[n._key]&&(r.style.visibility="hidden",DV.viewers[n._key].elements.pages.hide())},_teardown:function(e){var r=t.getElementById(e._containerId),i=e._key;if(i&&DV.viewers[i]&&--n[i].num===0){DV.viewers[i].api.unload();while(r.hasChildNodes())r.removeChild(r.lastChild);r.parentNode.removeChild(r)}}})}(Popcorn,window.document),function(e){e.parser("parseJSON","JSON",function(t){var n={title:"",remote:"",data:[]},r={},i=t;return e.forEach(i.data,function(e,t){n.data.push(e)}),n})}(Popcorn),function(e){e.parser("parseSBV",function(e){var t={title:"",remote:"",data:[]},n=[],r,i=0,s=0,o=0,u=function(e){var t=e.split(":"),n=t.length-1,r;try{r=parseInt(t[n-1],10)*60+parseFloat(t[n],10),n===2&&(r+=parseInt(t[0],10)*3600)}catch(i){throw"Bad cue"}return r},a=function(e,t){var n={};return n[e]=t,n};r=e.text.split(/(?:\r\n|\r|\n)/gm),s=r.length;while(i<s){var f={},l=[],c=r[i++].split(",");try{f.start=u(c[0]),f.end=u(c[1]);while(i<s&&r[i])l.push(r[i++]);f.text=l.join("<br />"),n.push(a("subtitle",f))}catch(h){while(i<s&&r[i])i++}while(i<s&&!r[i])i++}return t.data=n,t})}(Popcorn),function(e){e.parser("parseSRT",function(e){var t={title:"",remote:"",data:[]},n=[],r=0,i=0,s=0,o,u,a,f,l=function(e){var t=e.split(":");try{var n=t[2].split(",");return n.length===1&&(n=t[2].split(".")),parseFloat(t[0],10)*3600+parseFloat(t[1],10)*60+parseFloat(n[0],10)+parseFloat(n[1],10)/1e3}catch(r){return 0}},c=function(e,t){var n={};return n[e]=t,n};o=e.text.split(/(?:\r\n|\r|\n)/gm),i=o.length;for(r=0;r<i;r++){f={},a=[],f.id=parseInt(o[r++],10),u=o[r++].split(/[\t ]*-->[\t ]*/),f.start=l(u[0]),s=u[1].indexOf(" "),s!==-1&&(u[1]=u[1].substr(0,s)),f.end=l(u[1]);while(r<i&&o[r])a.push(o[r++]);f.text=a.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),f.text=f.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),f.text=f.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),f.text=f.text.replace(/\\N/gi,"<br />"),n.push(c("subtitle",f))}return t.data=n,t})}(Popcorn),function(e){function t(e,t){var i=e.substr(10).split(","),s=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,o=/\\N/gi,u;u={start:n(i[t.start]),end:n(i[t.end])};if(u.start===-1||u.end===-1)throw"Invalid time";return u.text=r(i,t.text).replace(s,"").replace(o,"<br />"),u}function n(e){var t=e.split(":");return e.length!==10||t.length<3?-1:parseInt(t[0],10)*3600+parseInt(t[1],10)*60+parseFloat(t[2],10)}function r(e,t){var n=e.length,r=[],i=t;for(;i<n;i++)r.push(e[i]);return r.join(",")}function i(e,t){var n={};return n[e]=t,n}function s(e){var t=e.substr(8).split(", "),n={},r,i;for(i=0,r=t.length;i<r;i++)t[i]==="Start"?n.start=i:t[i]==="End"?n.end=i:t[i]==="Text"&&(n.text=i);return n}e.parser("parseSSA",function(e){var n={title:"",remote:"",data:[]},r=/(?:\r\n|\r|\n)/gm,o=[],u,a,f=0,l;u=e.text.split(r),l=u.length;while(f<l&&u[f]!=="[Events]")f++;a=s(u[++f]);while(++f<l&&u[f]&&u[f][0]!=="[")try{o.push(i("subtitle",t(u[f],a)))}catch(c){}return n.data=o,n})}(Popcorn),function(e){e.parser("parseTTML",function(e){var t={title:"",remote:"",data:[]},n,r=0,i,s=function(e,t){if(!e)return-1;var n=e.split(":"),r=n.length-1,i,s,o;if(r>=2)return parseInt(n[0],10)*3600+parseInt(n[r-1],10)*60+parseFloat(n[r],10);for(o=e.length-1;o>=0;o--)if(e[o]<="9"&&e[o]>="0")break;o++,i=e.substr(o),t=t||0;if(i==="h")s=3600;else if(i==="m")s=60;else if(i==="s")s=1;else{if(i!=="ms")return-1;s=.001}return parseFloat(e.substr(0,o))*s+t},o=function(e,t){var n={};return n[e]=t,n},u=function(e,t){var n={};return n.text=e.textContent.replace(/^[\s]+|[\s]+$/gm,"").replace(/(?:\r\n|\r|\n)/gm,"<br />"),n.id=e.getAttribute("xml:id")||e.getAttribute("id"),n.start=s(e.getAttribute("begin"),t),n.end=s(e.getAttribute("end"),t),n.target=i,n.end<0&&(n.end=s(e.getAttribute("duration"),0),n.end>=0?n.end+=n.start:n.end=Number.MAX_VALUE),n},a=function(e,n){var i=e.firstChild,f,l;while(i)i.nodeType===1&&(i.nodeName==="p"?(f=u(i,n),t.data.push(o("subtitle",f)),r++):i.nodeName==="div"&&(l=s(i.getAttribute("begin")),l<0&&(l=n),a(i,l))),i=i.nextSibling};if(!e.xml||!e.xml.documentElement||!(n=e.xml.documentElement.firstChild))return t;while(n.nodeName!=="body")n=n.nextSibling;return i="",a(n,0),t})}(Popcorn),function(e){e.parser("parseTTXT",function(e){var t={title:"",remote:"",data:[]},n=function(e){var t=e.split(":"),n=0;try{return parseFloat(t[0],10)*60*60+parseFloat(t[1],10)*60+parseFloat(t[2],10)}catch(r){n=0}return n},r=function(e,t){var n={};return n[e]=t,n},i=e.xml.lastChild.lastChild,s=Number.MAX_VALUE,o=[];while(i){if(i.nodeType===1&&i.nodeName==="TextSample"){var u={};u.start=n(i.getAttribute("sampleTime")),u.text=i.getAttribute("text"),u.text&&(u.end=s-.001,o.push(r("subtitle",u))),s=u.start}i=i.previousSibling}return t.data=o.reverse(),t})}(Popcorn),function(e){function t(e){var t=e.split(":"),n=e.length,r;if(n!==12&&n!==9)throw"Bad cue";n=t.length-1;try{r=parseInt(t[n-1],10)*60+parseFloat(t[n],10),n===2&&(r+=parseInt(t[0],10)*3600)}catch(i){throw"Bad cue"}return r}function n(e,t){var n={};return n[e]=t,n}function r(e){var n,r,i={},s=/-->/,o=/[\t ]+/;if(!e||e.indexOf("-->")===-1)throw"Bad cue";n=e.replace(s," --> ").split(o);if(n.length<2)throw"Bad cue";return i.id=e,i.start=t(n[0]),i.end=t(n[2]),i}function i(e,t,n){while(n<t&&!e[n])n++;return n}function s(e,t,n){while(n<t&&e[n])n++;return n}e.parser("parseVTT",function(e){var t={title:"",remote:"",data:[]},o=[],u=0,a=0,f,l,c,h=/(?:\r\n|\r|\n)/gm;f=e.text.split(h),a=f.length;if(a===0||f[0]!=="WEBVTT")return t;u++;while(u<a){l=[];try{u=i(f,a,u),c=r(f[u++]);while(u<a&&f[u])l.push(f[u++]);c.text=l.join("<br />"),o.push(n("subtitle",c))}catch(p){u=s(f,a,u)}}return t.data=o,t})}(Popcorn),function(e){e.parser("parseXML","XML",function(t){var n={title:"",remote:"",data:[]},r={},i=function(e){var t=e.split(":");if(t.length===1)return parseFloat(t[0],10);if(t.length===2)return parseFloat(t[0],10)+parseFloat(t[1]/12,10);if(t.length===3)return parseInt(t[0]*60,10)+parseFloat(t[1],10)+parseFloat(t[2]/12,10);if(t.length===4)return parseInt(t[0]*3600,10)+parseInt(t[1]*60,10)+parseFloat(t[2],10)+parseFloat(t[3]/12,10)},s=function(t){var n={};for(var s=0,o=t.length;s<o;s++){var u=t.item(s).nodeName,a=t.item(s).nodeValue;u==="in"?n.start=i(a):u==="out"?n.end=i(a):u==="resourceid"?e.extend(n,r[a]):n[u]=a}return n},o=function(e,t){var n={};return n[e]=t,n},u=function(t,i,a){var f={};e.extend(f,i,s(t.attributes),{text:t.textContent});var l=t.childNodes;if(l.length<1||l.length===1&&l[0].nodeType===3)a?r[f.id]=f:n.data.push(o(t.nodeName,f));else for(var c=0;c<l.length;c++)l[c].nodeType===1&&u(l[c],f,a)},a=t.documentElement.childNodes;for(var f=0,l=a.length;f<l;f++)a[f].nodeType===1&&(a[f].nodeName==="manifest"?u(a[f],{},!0):u(a[f],{},!1));return n})}(Popcorn),function(e,t){function a(){return t.swfobject&&t.soundcloud}function f(e,n){if(e.currentStyle)return e.currentStyle[n];if(t.getComputedStyle)return document.defaultView.getComputedStyle(e,null).getPropertyValue(n)}function l(e){function t(e){function n(e,t){return e+" "+t+(e>1?"s":"")+" ago"}var t=((new Date).getTime()-e.getTime())/1e3;return t<60?n(o(t),"second"):(t/=60,t<60?n(o(t),"minute"):(t/=60,t<24?n(o(t),"hour"):(t/=24,t<30?n(o(t),"day"):t<365?n(o(t/30),"month"):n(o(t/365),"year"))))}function n(e){var t=s(e/60),n=o(e%60);return t+"."+(n<10?"0":"")+n}return'<div><a href="'+e.user.profile+'">'+'<img width="16px height="16px" src="'+e.user.avatar+'"></img>'+e.user.name+"</a> at "+n(e.start)+" "+t(e.date)+"<br />"+e.text+"</span>"}function c(e){if(!a()){setTimeout(function(){c(e)},15);return}var t={enable_api:!0,object_id:e._playerId,url:e.src,show_comments:!e._options.api.key&&!e._options.api.commentdiv},n={allowscriptaccess:"always",wmode:"transparent"},r={id:e._playerId,name:e._playerId},i=document.createElement("div");i.setAttribute("id",e._playerId),e._container.appendChild(i),swfobject.embedSWF("http://player.soundcloud.com/player.swf",e._playerId,e.offsetWidth,e.height,"9.0.0","expressInstall.swf",t,n,r)}var n=33,r=.25,i=Math.abs,s=Math.floor,o=Math.round,u={};e.soundcloud=function(t,n,r){return e.getScript("http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"),e.getScript("http://popcornjs.org/code/players/soundcloud/lib/soundcloud.player.api.js",function(){var e=1;soundcloud.addEventListener("onPlayerReady",function(e,t){var n=u[e.api_getFlashId()];n.swfObj=e,n.duration=e.api_getTrackDuration(),n.currentTime=e.api_getTrackPosition(),n.volume=n.previousVolume=e.api_getVolume()/100,n._mediaId=t.mediaId,n.dispatchEvent("load"),n.dispatchEvent("canplay"),n.dispatchEvent("durationchange"),n.timeupdate()}),soundcloud.addEventListener("onMediaStart",function(e,t){var n=u[e.api_getFlashId()];n.played=1,n.dispatchEvent("playing")}),soundcloud.addEventListener("onMediaPlay",function(t,n){if(e){e=0;return}var r=u[t.api_getFlashId()];r.dispatchEvent("play")}),soundcloud.addEventListener("onMediaPause",function(e,t){var n=u[e.api_getFlashId()];n.dispatchEvent("pause")}),soundcloud.addEventListener("onMediaBuffering",function(e,t){var n=u[e.api_getFlashId()];n.dispatchEvent("progress"),n.readyState===0&&(n.readyState=3,n.dispatchEvent("readystatechange"))}),soundcloud.addEventListener("onMediaDoneBuffering",function(e,t){var n=u[e.api_getFlashId()];n.dispatchEvent("canplaythrough")}),soundcloud.addEventListener("onMediaEnd",function(e,t){var n=u[e.api_getFlashId()];n.paused=1,n.dispatchEvent("ended")}),soundcloud.addEventListener("onMediaSeek",function(e,t){var n=u[e.api_getFlashId()];n.setCurrentTime(e.api_getTrackPosition()),n.paused&&n.dispatchEvent("timeupdate")}),soundcloud.addEventListener("onPlayerError",function(e,t){var n=u[e.api_getFlashId()];n.dispatchEvent("error")})}),new e.soundcloud.init(t,n,r)},e.soundcloud.init=function(){function t(e){var t=e._options,n=e._container,r=n.getBoundingClientRect(),i,s;e.width=t.width||f(n,"width")||"100%",e.height=t.height||f(n,"height")||"81px",e.src=t.src,e.autoplay=t.autoplay,parseFloat(e.height,10)!==81&&(e.height="81px"),e.offsetLeft=r.left,e.offsetTop=r.top,e.offsetHeight=parseFloat(e.height,10),e.offsetWidth=parseFloat(e.width,10),/[\d]+%/.test(e.width)&&(i=f(n,"width"),e._container.style.width=e.width,e.offsetWidth=e._container.offsetWidth,e._container.style.width=i),/[\d]+%/.test(e.height)&&(i=f(n,"height"),e._container.style.height=e.height,e.offsetHeight=e._container.offsetHeight,e._container.style.height=i)}var n=function(n,r,i){if(!n)throw"Must supply an id!";if(!r)throw"Must supply a source!";if(/file/.test(location.protocol))throw"Must run from a web server!";var s=this._container=document.getElementById(n);if(!s)throw"Could not find that container in the DOM!";i=i||{},i.api=i.api||{},i.target=n,i.src=r,i.api.commentformat=i.api.commentformat||l,this._mediaId=0,this._listeners={},this._playerId=e.guid(i.target),this._containerId=i.target,this._options=i,this._comments=[],this._popcorn=null,t(this),this.duration=0,this.volume=1,this.currentTime=0,this.ended=0,this.paused=1,this.readyState=0,this.playbackRate=1,this.top=0,this.left=0,this.autoplay=null,this.played=0,this.addEventListener("load",function(){var e=this.getBoundingClientRect();this.top=e.top,this.left=e.left,this.offsetWidth=this.swfObj.offsetWidth,this.offsetHeight=this.swfObj.offsetHeight,this.offsetLeft=this.swfObj.offsetLeft,this.offsetTop=this.swfObj.offsetTop}),u[this._playerId]=this,c(this)};return n}(),e.soundcloud.init.prototype=e.soundcloud.prototype,e.extend(e.soundcloud.prototype,{setVolume:function(e){if(!e&&e!==0)return;e<0&&(e=-e),e>1&&(e%=1),this.volume=this.previousVolume=e,this.swfObj.api_setVolume(e*100),this.dispatchEvent("volumechange")},setCurrentTime:function(e){if(!e&&e!==0)return;this.currentTime=this.previousCurrentTime=e,this.ended=e>=this.duration,this.dispatchEvent("seeked")},play:function(){if(!this.swfObj){this.addEventListener("load",this.play);return}if(!this.paused)return;this.paused=0,this.swfObj.api_play()},pause:function(){if(!this.swfObj){this.addEventListener("load",this.pause);return}if(this.paused)return;this.paused=1,this.swfObj.api_pause()},mute:function(){if(!this.swfObj){this.addEventListener("load",this.mute);return}this.muted()?this.paused?this.setVolume(this.oldVol):this.volume=this.oldVol:(this.oldVol=this.volume,this.paused?this.setVolume(0):this.volume=0)},muted:function(){return this.volume===0},load:function(){if(!this.swfObj){this.addEventListener("load",this.load);return}this.play(),this.pause()},addEventListener:function(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),t},dispatchEvent:function(t){var n=this,r=t.type||t;if(r==="play"&&this.paused||r==="pause"&&!this.paused){this[r]();return}e.forEach(this._listeners[r],function(e){e.call(n)})},timeupdate:function(){var e=this,t=this.swfObj.api_getVolume()/100,s=0;i(this.currentTime-this.previousCurrentTime)>r?(this.swfObj.api_seekTo(this.currentTime),s=1):this.previousCurrentTime=this.currentTime=this.swfObj.api_getTrackPosition(),t!==this.previousVolume?this.setVolume(t):this.volume!==this.previousVolume&&this.setVolume(this.volume),this.paused||this.dispatchEvent("timeupdate"),e.ended||setTimeout(function(){e.timeupdate.call(e)},n)},getBoundingClientRect:function(){var e,t=this;return this.swfObj?(e=this.swfObj.getBoundingClientRect(),{bottom:e.bottom,left:e.left,right:e.right,top:e.top,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}):(tmp=this._container.getBoundingClientRect(),{left:tmp.left,top:tmp.top,width:t.offsetWidth,height:t.offsetHeight,bottom:tmp.top+this.width,right:tmp.top+this.height})},registerPopcornWithPlayer:function(t){if(!this.swfObj){this.addEventListener("load",function(){this.registerPopcornWithPlayer(t)});return}this._popcorn=t;var n=this._options.api;if(n.key&&n.commentdiv){var r=this;e.xhr({url:"http://api.soundcloud.com/tracks/"+r._mediaId+"/comments.js?consumer_key="+n.key,success:function(t){e.forEach(t.json,function(e){r.addComment({start:e.timestamp/1e3,date:new Date(e.created_at),text:e.body,user:{name:e.user.username,profile:e.user.permalink_url,avatar:e.user.avatar_url}})})}})}}}),e.extend(e.soundcloud.prototype,{addComment:function(e,t){var n=this,r={start:e.start||0,date:e.date||new Date,text:e.text||"",user:{name:e.user.name||"",profile:e.user.profile||"",avatar:e.user.avatar||""},display:function(){return(t||n._options.api.commentformat)(r)}};this._comments.push(r);if(!this._popcorn)return;this._popcorn.subtitle({start:r.start,target:this._options.api.commentdiv,display:"inline",language:"en",text:r.display()})}})}(Popcorn,window),function(){vimeo_player_loaded=function(e){vimeo_player_loaded[e]&&vimeo_player_loaded[e]()},vimeo_player_loaded.seek={},vimeo_player_loaded.loadProgress={},vimeo_player_loaded.play={},vimeo_player_loaded.pause={},Popcorn.player("vimeo",{_setup:function(e){var t=this,n,r=document.createElement("div"),i=0,s=0,o=!1,u=!1,a=!1,f=0,l,c;r.id=t.id+Popcorn.guid(),t.appendChild(r),c=t.style.width?""+t.offsetWidth:"100%",l=t.style.height?""+t.offsetHeight:"100%";var h=function(){function g(e){if(!e)return;var t=/^http:\/\/player\.vimeo\.com\/video\/[\d]+/i,n=/vimeo\.com\/[\d]+/,r=e.match(t)?e.match(t)[0].substr(30):"";return r?r:e.match(n)?e.match(n)[0].substr(10):""}var u,h,p={},d=t.src,v=0,m=!1;vimeo_player_loaded[r.id]=function(){n=document.getElementById(r.id),vimeo_player_loaded.seek[r.id]=function(e){e!==i&&(i=e,t.dispatchEvent("seeked"),t.dispatchEvent("timeupdate"))},vimeo_player_loaded.play[r.id]=function(){t.paused&&(t.paused=!1,t.dispatchEvent("play"),t.dispatchEvent("playing"),e())},vimeo_player_loaded.pause[r.id]=function(){t.paused||(t.paused=!0,t.dispatchEvent("pause"))},vimeo_player_loaded.loadProgress[r.id]=function(e){m||(m=!0,t.dispatchEvent("loadstart")),e.percent===100&&t.dispatchEvent("canplaythrough")},n.api_addEventListener("seek","vimeo_player_loaded.seek."+r.id),n.api_addEventListener("loadProgress","vimeo_player_loaded.loadProgress."+r.id),n.api_addEventListener("play","vimeo_player_loaded.play."+r.id),n.api_addEventListener("pause","vimeo_player_loaded.pause."+r.id);var e=function(){t.paused||(i=n.api_getCurrentTime(),t.dispatchEvent("timeupdate"),setTimeout(e,10))},u=function(){return n.api_getVolume()===0},l=function(){var e=u(),r=n.api_getVolume();a!==e&&(a=e,t.dispatchEvent("volumechange")),f!==r&&(f=r,t.dispatchEvent("volumechange")),setTimeout(l,250)};t.play=function(){t.paused=!1,t.dispatchEvent("play"),t.dispatchEvent("playing"),e(),n.api_play()},t.pause=function(){t.paused||(t.paused=!0,t.dispatchEvent("pause"),n.api_pause())},Popcorn.player.defineProperty(t,"currentTime",{set:function(e){return e?(i=s=+e,o=!0,t.dispatchEvent("seeked"),t.dispatchEvent("timeupdate"),n.api_seekTo(i),i):i},get:function(){return i}}),Popcorn.player.defineProperty(t,"muted",{set:function(e){u()!==e&&(e?(v=n.api_getVolume(),n.api_setVolume(0)):n.api_setVolume(v))},get:function(){return u()}}),Popcorn.player.defineProperty(t,"volume",{set:function(e){return!e||typeof e!="number"||e<0||e>1?n.api_getVolume()/100:(n.api_getVolume()!==e&&(n.api_setVolume(e*100),f=n.api_getVolume(),t.dispatchEvent("volumechange")),n.api_getVolume()/100)},get:function(){return n.api_getVolume()/100}}),t.readyState=4,t.dispatchEvent("canplaythrough"),t.dispatchEvent("load"),t.duration=n.api_getDuration(),t.dispatchEvent("durationchange"),l(),t.dispatchEvent("loadeddata")};if(!(d=g(d)))throw"Invalid Video Id";u={clip_id:d,js_api:1,js_swf_id:r.id},Popcorn.extend(u,e),h={allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"},swfobject.embedSWF("//vimeo.com/moogaloop.swf",r.id,c,l,"9.0.0","expressInstall.swf",u,h,p)};window.swfobject?h():Popcorn.getScript("//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",h)}})}(),onYouTubePlayerReady=function(e){onYouTubePlayerReady[e]&&onYouTubePlayerReady[e]()},stateChangeEventHandler={},onErrorEventHandler=new Array,Popcorn.player("youtube",{_setup:function(e){var t=this,n,r=document.createElement("div"),i=0,s=0,o=!1,u=!1,a=!1,f=!1,l=0;r.id=t.id+Popcorn.guid(),youtubeId=Popcorn.guid();var c="";_.each(Popcorn.guid().toString().split(""),function(e){c+="abcdefghijklmnopqrstuvwxyz"[e]}),t.youtubeId=c,t.appendChild(r),t.canPlay=0;var h=function(){var n,a,c,h,p,d,v;canPlay=0,onYouTubePlayerReady[r.id]=function(){t.youtubeObject=document.getElementById(r.id),stateChangeEventHandler[t.youtubeId]=function(n){if(n===1&&t.canPlay==0)t.canPlay=1,t.pause(),t.readyState=4,t.duration=t.youtubeObject.getDuration(),t.dispatchEvent("canplaythrough"),t.dispatchEvent("load"),t.dispatchEvent("durationchange"),t.dispatchEvent("loadeddata");else if(n===1)t.paused&&t.play();else if(n===2){if(o&&s===i&&Math.abs(parseFloat(s)-parseFloat(t.youtubeObject.getCurrentTime()))>2){t.youtubeObject.seekTo(i);return}if(o&&s===i&&Math.abs(parseFloat(s)-parseFloat(t.youtubeObject.getCurrentTime()))<2){o=!1,u=!0,i=t.youtubeObject.getCurrentTime(),t.dispatchEvent("timeupdate"),!t.paused&&t.pause();return}if(u){u=!1;return}i=t.youtubeObject.getCurrentTime(),t.dispatchEvent("timeupdate"),!t.paused&&t.pause(),e.volume>1&&t.youtubeObject.setVolume(e.volume)}},stateChangeEventHandler[Popcorn.guid()]=function(e){[2,100,101,150].indexOf(e)!==-1&&t.dispatchEvent("error")};var n="stateChangeEventHandler."+t.youtubeId;t.youtubeObject.addEventListener("onStateChange",n),t.youtubeObject.addEventListener("onError","onErrorEventHandler["+t.youtubeId+"]");var a=function(){t.paused||(t.youtubeObject.getCurrentTime&&(i=t.youtubeObject.getCurrentTime()),t.dispatchEvent("timeupdate"),setTimeout(a,10))},c=function(){t&&t.youtubeObject&&t.youtubeObject.isMuted()&&(f!==t.youtubeObject.isMuted()&&(f=t.youtubeObject.isMuted(),t.dispatchEvent("volumechange")),l!==t.youtubeObject.getVolume()&&(l=t.youtubeObject.getVolume(),t.dispatchEvent("volumechange")),setTimeout(c,250))};t.play=function(){t.paused=!1,t.dispatchEvent("play"),t.dispatchEvent("playing"),a(),t.youtubeObject.playVideo()},t.pause=function(){t.paused||(t.paused=!0,t.dispatchEvent("pause"),t.youtubeObject.pauseVideo())},Popcorn.player.defineProperty(t,"currentTime",{set:function(n){return n!=0||e.cue_in==0?(i=s=+n,o=!0,t.dispatchEvent("seeked"),t.dispatchEvent("timeupdate"),t.youtubeObject.seekTo(i)):n==0&&e.cue_in==0&&t.dispatchEvent("timeupdate"),i},get:function(){return i}}),Popcorn.player.defineProperty(t,"muted",{set:function(e){return t.youtubeObject.isMuted()!==e&&(e?t.youtubeObject.mute():t.youtubeObject.unMute(),f=t.youtubeObject.isMuted(),t.dispatchEvent("volumechange")),t.youtubeObject.isMuted()},get:function(){return t.youtubeObject.isMuted()}}),Popcorn.player.defineProperty(t,"volume",{set:function(e){return t.youtubeObject.getVolume&&t.youtubeObject.getVolume()/100!==e&&(t.youtubeObject.setVolume(e*100),l=t.youtubeObject.getVolume(),t.dispatchEvent("volumechange")),t.youtubeObject.getVolume()/100},get:function(){if(t.youtubeObject.getVolume)return t.youtubeObject.getVolume()/100}}),t.youtubeObject.loadVideoById(h,e.cue_in)},e.controls=+e.controls===0||+e.controls===1?e.controls:1,e.annotations=+e.annotations===1||+e.annotations===3?e.annotations:1,e.cue_in=e.cue_in||0,e.volume=e.volume||1,n={playerapiid:r.id},a={wmode:"opaque",disablekb:"1",allowScriptAccess:"always"},c={id:r.id},h=/^.*(?:\/|v=)(.{11})/.exec(t.src)[1],v=(t.src.split("?")[1]||"").replace(/v=.{11}/,""),p=t.style.width?""+t.offsetWidth:"560",d=t.style.height?""+t.offsetHeight:"315",swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3&key=AI39si7oX_eCGjrxs2lil28MMQdXn-ZWhzku8fGsRVhju-pziYgmI3EOt0o4GmEl00vGXsA_OGGEKwX-xAM0a5Gbsr8zgrGpyg&playerapiid="+r.id,r.id,"100%","100%","8",null,n,a,c)};window.swfobject?h():Popcorn.getScript("//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",h)}});var r=function(e){r[e]&&r[e]()},i=function(e,t){i[e]&&i[e](t)},s=function(e,t,n){s[e]&&s[e](t,n)},o=function(e,t){o[e]&&o[e](t)};Popcorn.player("flashvideo",{_setup:function(e){var t=this,n,u=document.createElement("div"),a=0,f=0,l=!1,c=!1,h=!1,p=100;u.id=t.id+Popcorn.guid(),t.waiting=!0,t.appendChild(u);var d=function(){var c,h,p,d,v,m,g;r[u.id]=function(){console.log("player "+u.id+" has loaded"),n=document.getElementById(u.id),i[u.id]=function(e){console.log("on loading",e);if(e==2)t.duration=n.sendToFlash("getEndTime","");else if(e==3&&t.waiting){t.waiting=!1;var r=function(){t.paused||(a=n.sendToFlash("getCurrentTime",""),t.dispatchEvent("timeupdate"),setTimeout(r,10))};r(),t.play=function(){t.paused=!1,t.dispatchEvent("play"),t.dispatchEvent("playing"),r(),n.sendToFlash("play","")},t.pause=function(){t.paused||(t.paused=!0,t.dispatchEvent("pause"),n.sendToFlash("pause",""))},Popcorn.player.defineProperty(t,"currentTime",{set:function(e){return a=f=+e,l=!0,t.dispatchEvent("seeked"),t.dispatchEvent("timeupdate"),n.sendToFlash("seek",a),a},get:function(){return a}}),Popcorn.player.defineProperty(t,"volume",{set:function(e){return e!=n.getVolume()&&n.sendToFlash("setVolume",e),n.getVolume()},get:function(){return n.getVolume()}}),t.readyState=4,t.dispatchEvent("canplaythrough"),t.dispatchEvent("load"),t.duration=n.sendToFlash("getEndTime",""),t.dispatchEvent("durationchange"),t.dispatchEvent("loadeddata")}},s[u.id]=function(e,t){switch(t){case 1:console.log("onLoading - player loaded "+e);break;case 2:console.log("onLoading - metadata loaded "+e);break;case 3:console.log("onLoading - can play "+e);break;default:console.log("onLoading - "+t)}},o[u.id]=function(e,t){switch(t){case 1:console.log("onError - failed to load file");break;case 2:console.log("onError - wrong url or invalid file")}};var r="onLoading."+u.id;console.log("player "+u.id+" has loaded"),n.sendToFlash("load",d+","+e.cue_in)},c={vidId:u.id},h={wmode:"transparent",allowScriptAccess:"always",allownetworking:"all",bgcolor:"#000000"},p={id:u.id},d=/(http.*)/.exec(t.src)[1],swfobject.embedSWF("assets/MediaPlayer.swf",u.id,"100%","100%","9.0.0",!1,c,h,p)};window.swfobject?d():Popcorn.getScript("//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",d)}}),function(e){var t=function(t,n){var r=0,i=0,s;e.forEach(n.classes,function(e,t){s=[],e==="parent"?s[0]=document.querySelectorAll("#"+n.target)[0].parentNode:s=document.querySelectorAll("#"+n.target+" "+e);for(r=0,i=s.length;r<i;r++)s[r].classList.toggle(t)})};e.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(e){e.classes={},e.applyclass=e.applyclass||"";var t=e.applyclass.replace(/\s/g,"").split(","),n=[],r=0,i=t.length;for(;r<i;r++)n=t[r].split(":"),n[0]&&(e.classes[n[0]]=n[1]||"")},start:t,end:t})}(Popcorn),e.define("libs/popcorn/popcorn-flash",function(){}),e.define("zeega_dir/plugins/media-player/media-player",["zeega","libs/modernizr","libs/popcorn/popcorn-flash"],function(e){var t={Views:{}};return t.Views.Player=e.Backbone.View.extend({className:"media-player-container",defaults:{control_mode:"none",control_fade:!0,media_target:null,controls_target:null,autoplay:!1,cue_in:0,cue_out:null,volume:.5,fade_in:0,fade_out:0},initialize:function(e){if(!_.isUndefined(this.model)){var t=_.extend({},this.model.toJSON());_.isUndefined(this.model.get("uri"))?t.attr&&t.attr.uri?(this.format=this.getFormat(t.attr.attribution_uri),this.settings=_.defaults(_.extend(t.attr,this.options),this.defaults),this.settings.id=this.model.id,this.settings.model=null):console.log("I dont know what kind of media this is :("):(this.format=this.getFormat(t.attribution_uri),this.settings=_.defaults(_.extend(t,this.options),this.defaults),this.settings.model=null)}this.model.on("pause_play",this.playPause,this)},render:function(){this.$el.css({width:"100%",height:"100%"});var e=this.templates[this.format]?this.format:"defaulttemplate";return this.$el.html(_.template(this.templates[e](),this.settings)),this.controls=new t.Views.Player.Controls[this.settings.control_mode]({model:this.model,detached_controls:!_.isNull(this.settings.controls_target)}),_.isNull(this.settings.controls_target)?this.$el.append(this.controls.render().el):$(this.settings.controls_target).html(this.controls.render().el),this},placePlayer:function(){if(!this.isVideoLoaded){var e=this;switch(this.format){case"html5":this.model.get("type")=="Audio"&&Modernizr.audio.mp3===""?this.useFlash():this.model.get("type")=="Video"&&Modernizr.audio.h264===""?this.useFlash():this.useHTML5();break;case"flashvideo":this.useFlash();break;case"youtube":this.useYoutube();break;case"vimeo":this.useVimeo();break;default:console.log("none set")}this.initPopcornEvents(),this.isVideoLoaded=!0}},initPopcornEvents:function(){if(this.popcorn){var e=this;this.popcorn.listen("canplay",function(){e.private_onCanPlay(),e.onCanplay()}),this.popcorn.listen("timeupdate",function(){e.private_onTimeUpdate()})}},addPopcornToControls:function(){this.controls&&this.popcorn&&this.settings.control_mode!="none"&&this.controls.addPopcorn(this.popcorn)},useHTML5:function(){var e=this,t="#media-player-html5-"+this.model.id;this.popcorn=Popcorn(t),this.addPopcornToControls(),this.setVolume(0),this.popcorn.listen("canplay",function(){e.settings.fade_in===0&&e.setVolume(e.settings.volume),e.settings.cue_in!==0?(this.listen("seeked",function(){e.model.can_play=!0,e.model.trigger("visual_ready",e.model.id)}),e.setCurrentTime(e.settings.cue_in)):(e.model.can_play=!0,e.model.trigger("visual_ready",e.model.id))})},useYoutube:function(){var e=this,t="#media-player-"+this.model.id,n=this.model.get("attr").attribution_uri;this.popcorn=Popcorn.youtube(t,n,{volume:e.settings.volume*100,cue_in:e.settings.cue_in}),this.addPopcornToControls(),this.setVolume(0),this.popcorn.listen("canplaythrough",function(){e.model.can_play=!0,e.popcorn.play(),e.popcorn.pause(),e.model.trigger("visual_ready",e.model.id),e.model.get("attr").fade_in===0&&e.volume(e.model.get("attr").volume),e.popcorn.pause()})},useFlash:function(){var e=this,t="#media-player-"+this.model.id,n=this.model.get("attr").uri;this.popcorn=Popcorn.flashvideo(t,n,{volume:e.settings.volume,cue_in:e.settings.cue_in}),this.popcorn.listen("loadeddata",function(){e.model.can_play=!0,e.model.trigger("visual_ready",e.model.id),e.model.get("attr").fade_in===0&&e.volume(e.model.get("attr").volume)})},useVimeo:function(){this.popcorn=Popcorn.vimeo("#media-player-"+this.model.id,this.get("url")),this.popcorn.listen("loadeddata",function(){_this.trigger("video_canPlay"),_this.popcorn.currentTime(_this.get("cue_in"))})},private_onCanPlay:function(){this.model.set("duration",this.popcorn.duration()),_.isNull(this.model.get("cue_out"))&&this.model.set("cue_out",this.popcorn.duration())},onCanplay:function(){this.settings.autoplay&&this.popcorn&&this.popcorn.play()},setVolume:function(e){var t=e<0?0:e;t=e>1?1:e,_.isNumber(e)&&this.popcorn.volume(t)},getVolume:function(){return this.popcorn.volume()},setCurrentTime:function(e){_.isNumber(e)&&this.popcorn.currentTime(e)},getCurrentTime:function(){return this.popcorn.currentTime()},private_onTimeUpdate:function(){this.settings.cue_out===0&&(this.settings.cue_out=this.getDuration()),!_.isNull(this.settings.cue_out)&&this.popcorn.currentTime()>=this.settings.cue_out&&(this.pause(),this.popcorn.currentTime(this.settings.cue_in))},getDuration:function(){return this.popcorn.duration()},play:function(){this.popcorn&&this.popcorn.paused()&&this.popcorn.play()},pause:function(){this.popcorn&&!this.popcorn.paused()&&this.popcorn.pause()},playPause:function(){this.popcorn&&(this.popcorn.paused()?this.popcorn.play():this.popcorn.pause())},destroy:function(){this.popcorn&&(this.popcorn.pause(),Popcorn.destroy(this.popcorn))},getFormat:function(e){var t="";return e.match(/http:\/\/(?:youtu\.be\/|(?:[a-z]{2,3}\.)?youtube\.com\/watch(?:\?|#\!)v=)([\w\-]{11}).*/gi)?t="youtube":e.match(/^http:\/\/(?:www\.)?vimeo.com\/(.*)/)?t="vimeo":t="html5",navigator.userAgent.split(" ")[navigator.userAgent.split(" ").length-1].split("/")[0]=="Firefox"&&t=="html5"&&(t="flashvideo"),t},templates:{html5:function(){return html="<div id='media-player-<%= id %>' class='media-container'><video id='media-player-html5-<%= id %>' class='media-element media-type-<%= media_type %>' src='<%= uri %>'></video></div>",html},flashvideo:function(){return html="<div id='media-player-<%= id %>' class='media-container' style='width:100%;height:100%;'></div>",html},defaulttemplate:function(){return html="<div id='media-player-<%= id %>' class='media-container' style='width:100%;height:100%;'></div>",html}}}),t.Views.Player.Controls=t.Views.Player.Controls||{},t.Views.Player.Controls.none=e.Backbone.View.extend({className:"controls playback-controls controls-none",item_mode:!1,initialize:function(){this.options.detached_controls&&this.$el.addClass("playback-layer-controls"),this.model.get("uri")&&(this.item_mode=!0),this.init()},init:function(){}}),t.Views.Player.Controls.simple=t.Views.Player.Controls.none.extend({className:"controls playback-controls controls-simple",addPopcorn:function(e){this.popcorn=e,this.initPopcornEvents()},initPopcornEvents:function(){var e=this;this.popcorn.listen("canplay",function(){e.onCanPlay()}),this.popcorn.listen("canplaythrough",function(){e.onCanPlay()}),this.popcorn.listen("ended",function(){e.onEnded()}),this.popcorn.listen("playing",function(){e.onPlaying()}),this.popcorn.listen("pause",function(){e.onPause()})},render:function(){return this.$el.html(this.getTemplate()),this},events:{click:"playPause",mouseover:"onMouseover",mouseout:"onMouseout"},onCanPlay:function(){this.updatePlayPauseIcon(),this.updateCues()},updateCues:function(){this.cueIn=this.item_mode===!0?this.model.get("cue_in"):this.model.get("attr").cue_in,this.cueOut=(this.item_mode===!0?this.model.get("cue_out"):this.model.get("attr").cue_out)||this.duration},playPause:function(){return this.popcorn&&(this.popcorn.paused()?this.popcorn.play():this.popcorn.pause(),this.updatePlayPauseIcon()),!1},updatePlayPauseIcon:function(){this.popcorn&&(this.popcorn.paused()?this.$el.find(".pause-play i").removeClass("icon-pause").addClass("icon-play"):this.$el.find(".pause-play i").addClass("icon-pause").removeClass("icon-play"))},onPlaying:function(){this.model.get("control_fade")&&this.setFadeTimeout(),this.updatePlayPauseIcon(),this.updatePlayPauseIcon()},setFadeTimeout:function(){var e=this;this.timer&&clearTimeout(e.timer),this.timer=setTimeout(function(){e.fadeOutControls(),clearTimeout(e.timer)},3500)},onMouseover:function(){this.model.get("control_fade")&&!this.popcorn.paused()&&(this.timer&&clearTimeout(this.timer),this.fadeInControls())},onMouseout:function(){this.model.get("control_fade")&&!this.popcorn.paused()&&this.setFadeTimeout()},fadeOutControls:function(){this.$el.find(".player-control-inner").is(":visible")&&!this.popcorn.paused()&&this.$el.find(".player-control-inner").fadeOut("slow")},fadeInControls:function(){this.$el.find(".player-control-inner").is(":hidden")&&this.$el.find(".player-control-inner").fadeIn("fast")},onPause:function(){this.timer&&clearTimeout(this.timer),this.fadeInControls(),this.updatePlayPauseIcon()},onEnded:function(){this.$el.find(".pause-play i").addClass("icon-play").removeClass("icon-pause")},getTemplate:function(){var e="<div class='player-control-inner'><a href='#' class='pause-play pull-left'><i class='icon-pause icon-white'></i></a></div>";return e}}),t.Views.Player.Controls.standard=t.Views.Player.Controls.simple.extend({isSeeking:!1,className:"controls playback-controls controls-standard",addPopcorn:function(e){this.popcorn=e,this.initPopcornEvents()},initPopcornEvents:function(){var e=this;this.popcorn.listen("canplay",function(){e.onCanPlay()}),this.popcorn.listen("ended",function(){e.onEnded()}),this.popcorn.listen("timeupdate",function(){e.updateElapsed()}),this.popcorn.listen("playing",function(){e.onPlaying()}),this.popcorn.listen("pause",function(){e.onPause()})},events:{"click .pause-play":"playPause",mouseover:"onMouseover",mouseout:"onMouseout"},onCanPlay:function(){this.updateDuration(),this.updateCues(),this.updatePlayPauseIcon(),this.initScrubber()},initScrubber:function(){var e=this;this.$el.find(".media-scrubber").slider({range:"min",min:0,max:this.duration,slide:function(t,n){e.scrub(n.value)},stop:function(t,n){e.seek(n.value)}})},updateDuration:function(){this.duration=this.popcorn.duration(),this.$el.find(".media-time-duration").html(convertTime(this.duration))},updateElapsed:function(){var e=this.popcorn.currentTime();this.$el.find(".media-time-elapsed").html(convertTime(e)),this.$el.find(".media-scrubber").slider("value",e)},scrub:function(e){var t=this;this.isSeeking=!0},seek:function(e){var t=!this.popcorn.paused();t&&this.popcorn.pause(),e<this.cueIn?(this.$el.find(".media-scrubber").slider("value",this.cueIn),e=this.cueIn):e>this.cueOut?(this.$el.find(".media-scrubber").slider("value",this.cueOut),e=this.cueOut):this.$el.find(".media-scrubber").slider("value",e),this.popcorn.currentTime(e),t&&this.popcorn.play()},getTemplate:function(){var e="<div class='player-control-inner'><div class='media-scrubber'></div><div class='control-panel-inner'><a href='#' class='pause-play pull-left'><i class='icon-pause icon-white'></i></a><div class='pull-right'><span class='media-time-elapsed'>0:00</span> / <span class='media-time-duration'>0:00</span></div></div></div>";return e}}),t.Views.Player.Controls.editor=t.Views.Player.Controls.standard.extend({className:"controls playback-controls controls-editor",initPopcornEvents:function(){var e=this;this.popcorn.listen("canplay",function(){e.onCanPlay()}),this.popcorn.listen("canplaythrough",function(){e.onCanPlay()}),this.popcorn.listen("ended",function(){e.onEnded()}),this.popcorn.listen("timeupdate",function(){e.updateElapsed()}),this.popcorn.listen("playing",function(){e.onPlaying()}),this.popcorn.listen("pause",function(){e.onPause()})},events:{"click .pause-play":"playPause",mouseover:"onMouseover",mouseout:"onMouseout","mousedown .progress-outer":"scrub"},onCanPlay:function(){this.updateDuration(),this.updateCues(),this.updatePlayPauseIcon(),this.initScrubber(),this.initCropTool()},updateDuration:function(){this.duration=this.popcorn.duration(),this.$el.find(".media-time-duration").html(convertTime(this.duration))},updateElapsed:function(){var e=this.popcorn.currentTime();this.$el.find(".media-time-elapsed").html(convertTime(e)),this.$el.find(".media-scrubber").slider("value",e),e>=this.cueOut&&this.popcorn.pause()},initCropTool:function(){var e=this;this.$el.find(".crop-time-left .time").text(convertTime(this.cueIn)),this.$el.find(".crop-time-right .time").text(convertTime(this.cueOut)),this.$el.find(".crop-slider").slider({range:!0,min:0,max:e.duration,values:[e.cueIn,e.cueOut],slide:function(t,n){e.onCropSlide(t,n)},stop:function(t,n){e.onCropStop(t,n)}}),this.$el.find(".crop-time-left .time").unbind("keypress").keypress(function(t){if(!(t.which>=48&&t.which<=58||t.which==13))return!1;if(t.which==13){var n=e.convertToSeconds($(this).text());return n===!1?$(this).text(convertTime(e.model.get("cue_in"))):(n=n<0?0:n,n=n>e.model.get("cue_out")?e.model.get("cue_out"):n,$(this).text(convertTime(n)),e.$el.find(".crop-slider").slider("values",0,n),e.cueIn=n,e.model.update({cue_in:n}),e.seek(n)),this.blur(),!1}}),this.$el.find(".crop-time-right .time").unbind("keypress").keypress(function(t){if(!(t.which>=48&&t.which<=58||t.which==13))return!1;if(t.which==13){var n=e.convertToSeconds($(this).text());return n===!1?$(this).text(convertTime(e.model.get("cue_out"))):(n=n>e.duration?e.duration:n,n=n<e.model.get("cue_in")?e.model.get("cue_in"):n,$(this).text(convertTime(n)),e.$el.find(".crop-slider").slider("values",1,n),e.cueOut=n,e.seek(Math.max(n-5,e.cueIn)),e.model.update({cue_out:n})),this.blur(),!1}}),$(".time").mousedown(function(){$(this).focus()})},convertToSeconds:function(e){var t=e.split(/:/),n=!1,r=0;return _.each(t.reverse(),function(e,t){if(e.length>2)return n=!0,!1;var i=parseInt(e,10);if(!_.isNumber(i))return n=!0,!1;t?r+=i*t*60:r+=i}),n?!1:r},onCropSlide:function(e,t){this.$el.find(".crop-time-left .time").html(convertTime(t.values[0])),this.$el.find(".crop-time-right .time").html(convertTime(t.values[1]))},onCropStop:function(e,t){this.cueIn=t.values[0],this.cueOut=t.values[1],this.item_mode||this.model.update({cue_in:t.values[0],cue_out:t.values[1]}),this.popcorn.pause(),this.seek(t.values[0])},getTemplate:function(){var e="<div class='player-control-inner'><div class='crop-wrapper'><div class='crop-time-values clearfix'><span class='crop-time-left'>in [<span class='time' contenteditable='true'>0:00</span>]</span><span class='crop-time-right'>out [<span class='time' contenteditable='true'>0:00</span>]</span></div><div class='crop-slider'></div></div><div class='media-scrubber'></div><div class='control-panel-inner'><a href='#' class='pause-play pull-left'><i class='icon-play icon-white'></i></a><div class='pull-right'><span class='media-time-elapsed'>0:00</span> / <span class='media-time-duration'>0:00</span></div></div></div>";return e}}),t}),e.define("zeega_dir/plugins/layers/video/video",["zeega","zeega_dir/plugins/layers/_layer/_layer","zeega_dir/plugins/media-player/media-player"],function(e,t,n){var r=e.module();return r.Video=t.extend({layerType:"Video",defaultAttributes:{title:"Video Layer",url:"none",left:0,top:0,height:100,width:100,volume:.5,cue_in:0,cue_out:null,fade_in:0,fade_out:0,dissolve:!1,opacity:1,dimension:1.5,citation:!0}}),r.Video.Visual=t.Visual.extend({template:"plugins/video",init:function(){},onPlay:function(){this.mediaPlayer.play()},onPause:function(){this.mediaPlayer.pause()},onExit:function(){this.mediaPlayer.pause()},verifyReady:function(){if(this.mediaPlayer_loaded!==!0){var e=this;this.mediaPlayer=new n.Views.Player({model:this.model,control_mode:"none",media_target:"#layer-visual-"+this.id}),this.mediaPlayer.render(),this.$el.append(this.mediaPlayer.el),this.mediaPlayer.placePlayer(),this.mediaPlayer.popcorn.listen("timeupdate",function(){e.onTimeUpdate()}),this.mediaPlayer_loaded=!0}else this.mediaPlayer.pause()},onTimeUpdate:function(){var e,t;this.getAttr("cue_out")===0?e=this.model.player.getDuration():e=this.getAttr("cue_out");var n=this.mediaPlayer.getCurrentTime(),r=parseFloat(this.getAttr("cue_in"))+parseFloat(this.getAttr("fade_in")),i=e-parseFloat(this.getAttr("fade_out"));this.getAttr("fade_in")>0&&n<r?(t=this.getAttr("volume")*(1-(r-n)/this.getAttr("fade_in")*((r-n)/this.getAttr("fade_in"))),this.mediaPlayer.setVolume(t)):this.getAttr("fade_out")>0&&n>i?(t=this.getAttr("volume")*(1-(n-i)/this.getAttr("fade_out"))*(1-(n-i)/this.getAttr("fade_out")),this.mediaPlayer.setVolume(t)):Math.abs(this.getAttr("volume")-this.mediaPlayer.getVolume())>.01&&this.mediaPlayer.setVolume(this.getAttr("volume"));var s={id:this.model.id,media_type:this.getAttr("media_type"),layer_type:this.getAttr("layer_type"),current_time:this.mediaPlayer.getCurrentTime()};this.model.trigger("media_timeupdate",s)}}),r.Youtube=r.Video.extend(),r.Youtube.Visual=r.Video.Visual.extend(),r.Vimeo=r.Video.extend(),r.Vimeo.Visual=r.Video.Visual.extend(),r}),e.define("zeega_dir/plugins/layers/audio/audio",["zeega","zeega_dir/plugins/layers/_layer/_layer","zeega_dir/plugins/layers/video/video"],function(e,t,n){var r=e.module();return r.Audio=t.extend({layerType:"Audio",defaultAttributes:{title:"Audio Layer",url:"none",left:0,top:0,height:0,width:0,volume:.5,cue_in:0,cue_out:null,fade_in:0,fade_out:0,opacity:0,citation:!0}}),r.Audio.Visual=n.Video.Visual.extend({template:"plugins/audio"}),r}),e.define("zeega_dir/plugins/layers/_all",["zeega_dir/plugins/layers/image/image","zeega_dir/plugins/layers/link/link","zeega_dir/plugins/layers/slideshow/slideshow","zeega_dir/plugins/layers/video/video","zeega_dir/plugins/layers/audio/audio"],function(e,t,n,r,i){var s={};return _.extend(s,e,t,n,r,i),s}),e.define("zeega_dir/player/layer",["zeega","zeega_dir/plugins/layers/_all"],function(e,t){var n=e.module(),r=e.Backbone.Model.extend({ready:!1,status:"waiting",defaults:{mode:"player"},initialize:function(){if(t[this.get("type")]){this.layerClass=new(t[this.get("type")]);var e=_.defaults(this.toJSON(),this.layerClass.defaults);this.set(e),this.visualElement=new(t[this.get("type")].Visual)({model:this,attributes:{id:"visual-element-"+this.id,"data-layer_id":this.id}}),this.on("visual_ready",this.onVisualReady,this),this.on("visual_error",this.onVisualError,this)}else this.ready=!0,this.status="error",console.log("could not find valid layer type: ",this.get("type"))},render:function(){this.visualElement?this.status=="waiting"?this.visualElement.player_onPreload():this.status=="ready"&&this.visualElement.play():console.log("***	The layer "+this.get("type")+" is missing. ): ",this.id)},onVisualReady:function(){this.ready=!0,this.status="ready",this.trigger("ready",this)},onVisualError:function(){this.ready=!0,this.status="error",this.trigger("error")},updateZIndex:function(e){this.visualElement.updateZIndex(e)},exit:function(){this.layerClass&&this.visualElement.player_onExit()},remove:function(){this.layerClass&&this.visualElement.remove()},destroy:function(){this.status!="waiting"&&this.status!="destroyed"&&(this.status="destroyed")}});return n.Collection=e.Backbone.Collection.extend({model:r,initialize:function(){}}),n}),e.define("zeega_dir/player/frame",["zeega","zeega_dir/player/layer"],function(e,t){var n=e.module(),r=e.Backbone.Model.extend({ready:!1,status:"waiting",hasPlayed:!1,renderOnReady:null,defaults:{attr:{advance:0},common_layers:{},layers:[],link_to:[],link_from:[],preload_frames:[],next:null,prev:null},getNext:function(){return this.get("next")},getPrev:function(){return this.get("prev")},setConnections:function(){!_.isNull(this.get("prev"))&&!_.isNull(this.get("next"))?this.set("connections","lr"):!_.isNull(this.get("prev"))&&_.isNull(this.get("next"))?this.set("connections","l"):_.isNull(this.get("prev"))&&!_.isNull(this.get("next"))?this.set("connections","r"):this.set("connections","none")},preload:function(){var e=this;this.status!="ready"&&this.layers.each(function(t){t.status=="waiting"&&(t.on("ready",e.onLayerReady,e),t.render())})},render:function(e){var t=this;if(t.status=="ready"){var n=this.get("common_layers")[e]||[];this.layers.each(function(e){_.include(n,e.id)||e.render()}),this.trigger("frame_rendered",{frame:this.toJSON(),layers:this.layers.toJSON()})}else this.renderOnReady=e;this.layers.each(function(e,n){e.updateZIndex(t.layers.length-n)})},onLayerReady:function(e){this.trigger("layer_ready",e.toJSON()),this.trigger("frame_progress",this.getLayerStates()),this.isFrameReady()&&this.onFrameReady();var t=this.layers.map(function(e){return e.status})},onFrameReady:function(){this.ready=!0,this.status="ready",this.trigger("frame_ready",{frame:this.toJSON(),layers:this.layers.toJSON()}),_.isNull(this.renderOnReady)||(this.render(this.renderOnReady),this.renderOnReady=null)},getLayerStates:function(){var e={};return e.ready=_.map(_.filter(_.toArray(this.layers),function(e){return e.status=="ready"}),function(e){return e.attributes}),e.waiting=_.map(_.filter(_.toArray(this.layers),function(e){return e.status=="waiting"}),function(e){return e.attributes}),e.loading=_.map(_.filter(_.toArray(this.layers),function(e){return e.status=="loading"}),function(e){return e.attributes}),e.destroyed=_.map(_.filter(_.toArray(this.layers),function(e){return e.status=="destroyed"}),function(e){return e.attributes}),e.error=_.map(_.filter(_.toArray(this.layers),function(e){return e.status=="error"}),function(e){return e.attributes}),e},isFrameReady:function(){var e=this.getLayerStates();return e.ready.length+e.error.length==this.layers.length?!0:!1},exit:function(e){var t=this.get("common_layers")[e]||[];this.layers.each(function(e){_.include(t,e.id)||e.exit()})},unrender:function(e){},destroy:function(){this.status!="waiting"&&this.status!="destroyed"&&(this.layers.each(function(e){e.destroy()}),this.status="destroyed")}});return n.Collection=e.Backbone.Collection.extend({model:r,load:function(e,n,r){var i=this,s=new t.Collection(n);this.each(function(n){var r=[];n.layers=new t.Collection,_.each(n.get("layers"),function(e){n.layers.add(s.get(e))}),_.each(e,function(e){if(e.frames.length>1){var t=_.indexOf(e.frames,n.id);if(t>-1){var r=e.frames[t-1]||null,i=e.frames[t+1]||null;n.set({prev:r,next:i}),n.setConnections()}}});var o=n.layers.where({type:"Link"}),u=[],a=[];_.each(o,function(e){e.get("attr").from_frame==n.id?u.push(e.get("attr").to_frame):(n.layers.remove(e),a.push(e.get("attr").from_frame))}),n.set({link_to:u,link_from:a}),n.layers.on("all",function(e,t){var r=_.extend({},t,{frame:n.id});i.trigger(e,r)})}),this.each(function(e){var t={},n=_.uniq(_.compact(_.union(e.get("prev"),e.get("next"),e.get("link_to"),e.get("link_from"))));_.each(n,function(n){t[n]=_.intersection(e.layers.pluck("id"),i.get(n).layers.pluck("id"))}),e.set({common_layers:t})});var o=r||0;o&&this.each(function(e){var t=[e.id],n=[e.id],r=function(){_.each(n,function(r){n=_.compact([e.get("prev"),e.get("next")]),t=_.union(t,n,e.get("link_to"),e.get("link_from"))})};for(var i=0;i<o;i++)r();e.set("preload_frames",t)})}}),n}),e.define("zeega_dir/parsers/zeega-project",["lodash"],function(){var e="zeega-project",t={};return t[e]={name:e},t[e].parse=function(e,t){return e},t[e].validate=function(e){return e.sequences&&e.frames&&e.layers?!0:!1},t}),e.define("zeega_dir/parsers/zeega-collection",["lodash"],function(){var e="zeega-collection",t={};t[e]={name:e},t[e].parse=function(e,t){var i={};return t.collection_mode=="slideshow"?i=r(e):i=n(e),i},t[e].validate=function(e){return e.items&&e.items[0]&&e.items[0].items?!0:!1};var n=function(e){var t=i(e.items[0].items),n=s(e.items[0].items),r={id:0,title:"collection",persistent_layers:[],frames:_.pluck(n,"id")};return _.extend(e.items[0],{sequences:[r],frames:n,layers:t})},r=function(e){var t=[],n=[];_.each(e.items[0].items,function(e){e.layer_type=="Image"?t.push(e):(e.layer_type=="Audio"||e.media_type=="Video")&&n.push(e)});var r=o(t),u=i(n);r&&u.push(r);var a=s(n,[r.id]),f={id:0,title:"collection",persistent_layers:[r.id],frames:_.pluck(a,"id")};return _.extend(e.items[0],{sequences:[f],frames:a,layers:u})},i=function(e){var t={width:100,top:0,left:0};return _.map(e,function(e){return{attr:_.defaults(e,t),type:e.layer_type,id:e.id}})},s=function(e,t){return _.map(e,function(e){return{id:e.id,layers:_.compact([e.id].concat(t)),attr:{advance:0}}})},o=function(e){var t={keyboard:!1,width:100,top:0,left:0},n=_.map(e,function(e){return{attr:e,type:e.layer_type,id:e.id}});return{attr:_.defaults({slides:n},t),type:"SlideShow",id:1}};return t}),e.define("zeega_dir/parsers/zeega-dynamic-collection",function(){}),e.define("zeega_dir/parsers/flickr",["lodash"],function(){var e="flickr",t={};t[e]={name:e},t[e].parse=function(e,t){var i=n(e.items),s=r(e.items),o={id:0,title:"flickr collection",persistent_layers:[],frames:_.pluck(s,"id")};return _.extend(e,{sequences:[o],frames:s,layers:i})},t[e].validate=function(e){return e.generator&&e.generator=="http://www.flickr.com/"?!0:!1};var n=function(e){var t={width:100,top:0,left:0};return _.map(e,function(e){return e.uri=e.media.m,{attr:_.defaults(e,t),type:"Image",id:e.link}})},r=function(e,t){return _.map(e,function(e){return{id:e.link,layers:_.compact([e.link].concat(t)),attr:{advance:0}}})};return t}),e.define("zeega_dir/parsers/_all",["zeega_dir/parsers/zeega-project","zeega_dir/parsers/zeega-collection","zeega_dir/parsers/zeega-dynamic-collection","zeega_dir/parsers/flickr"],function(e,t,n,r){var i={};return _.extend(i,e,t,n,r),i}),e.define("modules/player/player",["zeega","zeega_dir/player/frame","zeega_dir/parsers/_all"],function(e,t,n){Player=e.Backbone.Model.extend({ready:!1,complete:!1,initialized:!1,status:"paused",currentFrame:null,defaults:{autoplay:!0,chromeless:!0,collection_mode:"standard",delay:0,escapable:!0,fade_overlays:!0,fadeIn:500,fadeOut:500,fullscreenEnable:!0,keyboard:!0,mode:"standalone",overlays:{arrows:!0,branding:!0,citations_layer:!0,citations_frame:!0,citations_project:!0,social:!0},preload_ahead:2,start_frame:null,div_id:null,window_fit:!1,window_ratio:4/3},initialize:function(e){_.isUndefined(e)||this.load(e)},load:function(e){if(!this.initialized){var t=this;this.set(e,{silent:!0}),e&&e.data&&_.isObject(e.data)?(r(this),this.listen()):e&&e.url&&_.isString(e.url)?(this.url=e.url,this.fetch({silent:!0}).success(function(e){var i;_.each(n,function(n){if(n.validate(e))return console.log("parsed using: "+n.name),i=n.parse(e,t.toJSON()),!1}),_.isUndefined(i)?t.onError("4 - no valid parser found"):(t.set(i,{silent:!1}),r(t),t.listen())}).error(function(){t.onError("3 - fetch error. bad project_url?")})):this.onError("1 - invalid or missing data. could be setting up player. nonfatal.")}else this.onError("2 - already loaded")},listen:function(){var e=this;this.frames.on("all",function(t,n){e.trigger(t,n)}),this.on("cue_frame",this.cueFrame,this)},render:function(){var e=this;this.Layout=new s({model:this,attributes:{id:"ZEEGA-player-"+this.id,"data-projectID":this.id}}),this.get("div_id")?$("#"+this.get("div_id")).css("position","relative").html(this.Layout.el):$("body").append(this.Layout.el),this.Layout.render(),this.Layout.$el.fadeIn(this.get("fadeIn"),function(){e.onRendered()})},onRendered:function(){this.ready=!0,this.initEvents(),this.trigger("ready"),this.get("autoplay")&&this.play()},initEvents:function(){var e=this;this.get("keyboard")&&$(window).keyup(function(t){switch(t.which){case 27:e.get("escapable")&&e.destroy();break;case 37:e.cuePrev();break;case 39:e.cueNext();break;case 32:e.playPause()}})},play:function(){this.ready?this.status=="paused"&&(this.trigger("play"),_.isNull(this.currentFrame)&&_.isNull(this.get("start_frame"))?this.cueFrame(this.get("sequences")[0].frames[0]):_.isNull(this.currentFrame)&&!_.isNull(this.get("start_frame"))&&this.frames.get(this.get("start_frame"))?this.cueFrame(this.get("start_frame")):!_.isNull(this.currentFrame)||this.onError("3 - could not play")):this.render()},pause:function(){this.status=="playing"&&this.trigger("pause")},playPause:function(){console.log("play pause")},cueNext:function(e){this.cueFrame(this.currentFrame.get("next"),e)},cuePrev:function(e){this.cueFrame(this.currentFrame.get("prev"),e)},cueFrame:function(e,t){if(!_.isUndefined(e)&&!_.isUndefined(this.frames.get(e))){var n=this,r=t||0;r!==0?_.delay(function(){n.goToFrame(e)},r):this.goToFrame(e)}},goToFrame:function(e){this.preloadFramesFrom(e);var t;this.currentFrame&&(this.currentFrame.exit(e),t=this.currentFrame.id),this.currentFrame=this.frames.get(e),this.currentFrame.render(t)},preloadFramesFrom:function(e){var t=this,n=this.frames.get(e);_.each(n.get("preload_frames"),function(e){t.frames.get(e).preload()})},getMetadata:function(){return!1},getCitations:function(){return!1},getProjectTree:function(){return!1},destroy:function(){var e=this;this.Layout.$el.fadeOut(this.get("fadeOut"),function(){e.frames.each(function(e){e.destroy()}),e.trigger("player_destroyed")})},onError:function(e){this.trigger("error",e),console.log("Error code: "+e)},parse:function(e){return e.items&&e.items[0].child_items&&(e=e.items[0],e.items=e.child_items),e}});var r=function(e){i(e.get("layers"),e.get("div_id"));var n=new t.Collection(e.get("frames"));n.load(e.get("sequences"),e.get("layers"),e.get("preload_ahead")),console.log("parse project",e,n),e.frames=n,e.initialized=!0,e.trigger("data_loaded"),e.get("autoplay")&&e.play()},i=function(e,t){_.each(e,function(e){e.target_div=t})},s=e.Backbone.Layout.extend({fetch:function(t){var n;return t="app/templates/layouts/"+t+".html",JST[t]?JST[t]:(n=this.async(),$.ajax({url:e.root+t}).then(function(e){n(JST[t]=_.template(e))}))},template:"player-layout",className:"ZEEGA-player",initialize:function(){var e=this,t=_.debounce(function(){e.resizeWindow()},300);this.model.get("div_id")?$("#"+this.model.get("div_id")).resize(t):$(window).resize(t)},serialize:function(){return this.model.toJSON()},afterRender:function(){this.$(".ZEEGA-player-window").css(this.getWindowSize())},resizeWindow:function(){var e=this.getWindowSize();this.$(".ZEEGA-player-window").animate(e),this.model.trigger("window_resized",e)},getWindowSize:function(){var e={},t=this.model.get("div_id")?$("#"+this.model.get("div_id")).width():window.innerWidth,n=this.model.get("div_id")?$("#"+this.model.get("div_id")).height():window.innerHeight,r=t/n;return this.model.get("window_fit")?r>this.model.get("window_ratio")?(e.width=t+"px",e.height=t/this.model.get("window_ratio")+"px"):(e.width=n*this.model.get("window_ratio")+"px",e.height=n+"px"):r>this.model.get("window_ratio")?(e.width=n*this.model.get("window_ratio")+"px",e.height=n+"px"):(e.width=t+"px",e.height=t/this.model.get("window_ratio")+"px"),e}});return e.player=Player,e}),e.require(["modules/player/player"],function(e){window.Zeega=e,$(window).trigger("zeega_ready")}),e.define("main",function(){})}();